/*@nomin*/
!function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],g=0,d=[];g<o.length;g++)s=o[g],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(u&&u(e);d.length;)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={cx:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"cx.ui","cx.libs"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"02cc":function(t,e,n){},"0466":function(t,e,n){},"0651":function(t,e){SXEditorBackCommand=function t(){t.super.call(this,"back")},OO.inheritClass(SXEditorBackCommand,ve.ui.Command),SXEditorBackCommand.prototype.execute=function(){ve.init.target.back()},ve.ui.commandRegistry.register(new SXEditorBackCommand),t.exports=SXEditorBackCommand},"07b6":function(t,e,n){"use strict";n("c9fd")},"11f4":function(t,e,n){},1594:function(t,e,n){},"160b":function(t,e){t.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>publishing-launching</title> <defs> <path d="M52.8,74.8 C52.8,79.64 44,83.6 44,83.6 C44,83.6 35.2,79.64 35.2,74.8 L52.8,74.8 Z M44,30.8 C40.3939316,30.707512 37.49251,27.806064 37.4,24.2 C37.4,20.554908 40.3549256,17.6 44,17.6 C47.645092,17.6 50.6,20.554908 50.6,24.2 C50.507468,27.806064 47.606064,30.707512 44,30.8 Z M58.52,51.48 C62.04,34.76 55.88,4.4 44,4.4 C32.12,4.4 25.52,33.88 29.04,50.6 L22,66 L33.88,66 L35.2,70.4 L52.8,70.4 C53.68,69.08 53.24,68.2 54.12,66 L66,66 L58.52,51.48 Z" id="path-1"></path> </defs> <g id="publishing-launching" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group" fill="#EAF3FF"> <circle id="Oval" cx="68" cy="68" r="68"></circle> </g> <g id="ðŸ”£-Icon/Wikimedia-logos/logoWikimediaDiscovery" transform="translate(24.000000, 24.000000)"> <mask id="mask-2" fill="white"> <use xlink:href="#path-1"></use> </mask> <use id="Mask-2" fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use> <g id="ðŸŽ¨-Color/Accent50-#36c" mask="url(#mask-2)" fill="#3366CC" fill-rule="evenodd"> <rect id="Rectangle-1" x="0" y="0" width="105.6" height="105.6"></rect> </g> </g> </g> </svg>'},"1c5b":function(t,e,n){"use strict";n("67bb")},2293:function(t,e,n){"use strict";n("7e70")},2395:function(t,e,n){},"250e":function(t,e,n){"use strict";n("5827")},"296b":function(t,e,n){"use strict";n("f0b4")},"30ee":function(t,e,n){},3440:function(t,e,n){"use strict";n("f171")},3492:function(t,e,n){},"34e5":function(t,e,n){"use strict";n("a6e7")},3634:function(t,e){SXEditorNextCommand=function t(){t.super.call(this,"next")},OO.inheritClass(SXEditorNextCommand,ve.ui.Command),SXEditorNextCommand.prototype.execute=function(){ve.init.target.next()},ve.ui.commandRegistry.register(new SXEditorNextCommand),t.exports=SXEditorNextCommand},"37c1":function(t,e,n){},"37fc":function(t,e){t.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>sad-robot</title> <g id="sad-robot" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group"> <circle id="Oval" fill="#EAECF0" cx="68" cy="68" r="68"></circle> <path id="Mask" d="M70,40.99684 L96.02,40.99684 C100.428,40.99684 104,44.58084 104,48.98484 L104,82.99684 L74,82.99684 L74,92.99684 L96.02,92.99684 C100.428,92.99684 104,96.54884 104,100.99684 L104,108.99684 L32,108.99684 L32,100.99684 C32,96.57684 35.572,92.99684 39.98,92.99684 L62,92.99684 L62,82.99684 L32,82.99684 L32,48.98484 C32,44.57284 35.572,40.99684 39.98,40.99684 L66,40.99684 L66,32.65684 C63.244908,31.68276 61.59226,28.86552 62.086412,25.98536 C62.580564,23.10524 65.077784,21 68,21 C70.9222,21 73.41944,23.10524 73.9136,25.98536 C74.40776,28.86552 72.75508,31.68276 70,32.65684 L70,40.99684 Z M62,78 C62,74.6862915 64.6862915,72 68,72 C71.3137085,72 74,74.6862915 74,78 M54,64.99684 C57.313708,64.99684 60,62.310548 60,58.99684 C60,55.68312 57.313708,52.99684 54,52.99684 C50.686292,52.99684 48,55.68312 48,58.99684 C48,62.310548 50.686292,64.99684 54,64.99684 Z M82,64.99684 C85.31372,64.99684 88,62.310548 88,58.99684 C88,55.68312 85.31372,52.99684 82,52.99684 C78.68628,52.99684 76,55.68312 76,58.99684 C76,62.310548 78.68628,64.99684 82,64.99684 Z" fill="#54595D"></path> </g> </g> </svg>'},"391f":function(t,e,n){"use strict";n("3492")},"39bd":function(t,e,n){"use strict";n("94f9")},"3ac3":function(t,e,n){"use strict";n("83a6")},"3e4a":function(t,e,n){"use strict";n("37c1")},4550:function(t,e,n){"use strict";n("fc87")},"45dd":function(t,e,n){n("b0c0"),SXEditorBackTool=function t(){t.super.apply(this,arguments)},OO.inheritClass(SXEditorBackTool,ve.ui.Tool),SXEditorBackTool.static.name="back",SXEditorBackTool.static.group="navigation",SXEditorBackTool.static.icon="close",SXEditorBackTool.static.title=OO.ui.deferMsg("visualeditor-backbutton-tooltip"),SXEditorBackTool.static.commandName="back",SXEditorBackTool.prototype.onUpdateState=function(){SXEditorBackTool.super.prototype.onUpdateState.apply(this,arguments),this.setActive(!1),this.setDisabled(!1)},ve.ui.toolFactory.register(SXEditorBackTool),t.exports=SXEditorBackTool},"4afe":function(t,e,n){"use strict";n("30ee")},"4b31":function(t,e,n){var i={"./publishing-failure.svg":"b3ed","./publishing-launching.svg":"160b","./publishing-success.svg":"5cce","./sad-robot.svg":"37fc","./tutorial-mt.svg":"e1b0","./tutorial-sections.svg":"c69b"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id="4b31"},"4c90":function(t,e,n){},"4d50":function(t,e,n){"use strict";n("a8dd")},"50f1":function(t,e,n){},"51f3":function(t,e,n){},5282:function(t,e,n){"use strict";n("da9e")},"542a":function(t,e,n){"use strict";n("898f")},"56d7":function(t,e,n){"use strict";n.r(e),n("d3b7"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=n("5530"),o=n("87ed"),c=n("2f62"),u={name:"ContentTranslationApp",components:{MwGrid:o.h,MwCol:o.e,MwRow:o.o},data:function(){return{transitionName:""}},computed:Object(s.a)({},Object(c.d)({translationInProgress:function(t){return t.application.translationInProgress}})),watch:{$route:function(t,e){var n=t.meta.workflowStep,i=e.meta.workflowStep;this.transitionName=n<i?"mw-ui-animation-slide-end":"mw-ui-animation-slide-start"}},mounted:function(){var t=this;window.addEventListener("beforeunload",(function(e){t.translationInProgress&&(e.preventDefault(),e.returnValue="")}))}},g=(n("7c55"),n("2877")),p=Object(g.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-grid",{attrs:{id:"contenttranslation"}},[n("mw-row",{staticClass:"cx-container"},[n("mw-col",{attrs:{cols:"12"}},[n("transition",{attrs:{name:t.transitionName}},[n("router-view")],1)],1),n("aside")],1)],1)}),[],!1,null,null,null).exports,m=(n("4de4"),n("4160"),n("13d5"),n("45fc"),n("b64b"),n("159b"),n("96cf"),n("1da1")),f=(n("99af"),n("d81d"),n("ac1f"),n("9558")),h=n("d4ec"),S=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,i=e.targetLanguage,a=e.sourceTitle,r=e.targetTitle,s=e.status,o=e.id,c=e.sourceURL,l=e.targetURL,u=e.startTimestamp,g=e.lastUpdateTimestamp,d=e.progress,p=void 0===d?{}:d,m=e.startedTranslator,f=e.lastUpdatedTranslator,S=e.cxVersion;Object(h.a)(this,t),this.id=o,this.cxVersion=S,this.sourceLanguage=n,this.targetLanguage=i,this.sourceTitle=a,this.targetTitle=r,this.sourceURL=c,this.targetURL=l,this.progress=p,this.status=s,this.startedTranslator=m,this.lastUpdatedTranslator=f,this.lastUpdateTimestamp=g,this.startTimestamp=u},w=n("2909"),x=n("bee2"),C=function(){function t(e,n,i){Object(h.a)(this,t),this.sourceLanguage=e,this.targetLanguage=n,this.providers=[].concat(Object(w.a)(i||[]),[this.constructor.ORIGINAL_TEXT_PROVIDER_KEY,this.constructor.EMPTY_TEXT_PROVIDER_KEY])}return Object(x.a)(t,null,[{key:"ORIGINAL_TEXT_PROVIDER_KEY",get:function(){return"original"}},{key:"EMPTY_TEXT_PROVIDER_KEY",get:function(){return"empty"}}]),t}(),T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.result,i=void 0===n?"success":n,a=e.message,r=void 0===a?"":a,s=e.status,o=void 0===s?"":s;Object(h.a)(this,t),this.result=i,this.message=r,this.status=o}return Object(x.a)(t,[{key:"isSuccessful",get:function(){return"success"===this.result}}]),t}(),_=function(t){var e=document.createElement("article");return e.innerHTML=t,Array.prototype.forEach.call(e.querySelectorAll("article, section, [data-segmentid]"),(function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);t.remove()})),Array.prototype.forEach.call(e.querySelectorAll(".cx-link"),(function(t){var e,n=JSON.parse(t.getAttribute("data-cx")||"{}");!1===(null==n?void 0:n.adapted)&&!0!==(null==n||null===(e=n.targetTitle)||void 0===e?void 0:e.missing)?t.replaceWith(t.innerHTML):["data-linkid","class","title","id"].forEach((function(e){t.removeAttribute(e)}))})),Array.prototype.forEach.call(e.querySelectorAll(".mw-ref"),(function(t){var e=JSON.parse(t.getAttribute("data-cx")||"{}");!1===(null==e?void 0:e.adapted)&&t.parentNode.removeChild(t)})),Array.prototype.forEach.call(e.querySelectorAll("[data-cx]"),(function(t){t.removeAttribute("data-cx")})),Array.prototype.forEach.call(e.querySelectorAll("tr[id], td[id], th[id], table[id], tbody[id], thead[id], div[id]"),(function(t){t.removeAttribute("id")})),e.innerHTML},y=new mw.cx.SiteMapper;function L(t){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={action:"query",format:"json",assert:"user",formatversion:2,list:"contenttranslation"},e&&(n.offset=e),i=new mw.Api,t.abrupt("return",i.get(n).then(function(){var t=Object(m.a)(regeneratorRuntime.mark((function t(e){var n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.query.contenttranslation.translations,a=i.map((function(t){return new S(t.translation)})),null===(n=e.continue)||void 0===n||!n.offset){t.next=7;break}return t.next=5,L(e.continue.offset);case 5:r=t.sent,a=a.concat(r);case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=Object(m.a)(regeneratorRuntime.mark((function t(e,n,i,a,r){var s,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s="/translate/".concat(e,"/").concat(n),i!==C.ORIGINAL_TEXT_PROVIDER_KEY&&(s+="/".concat(i)),o=y.getCXServerUrl(s),t.abrupt("return",fetch(o,{headers:{"Content-Type":"application/json",Authorization:r},method:"POST",body:JSON.stringify({html:"<div>".concat(a,"</div>")})}).then((function(t){return t.json()})).then((function(t){return Object(f.a)(/<div>(.*)<\/div>/,{content:1}).exec(t.contents).groups.content})).catch((function(t){return Promise.reject(t)})));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j={fetchTranslations:L,fetchSegmentTranslation:function(t,e,n,i,a){return P.apply(this,arguments)},publishTranslation:function(t,e,n,i){var a={action:"cxpublishsection",title:i,html:_(e.translationHtml),sourcetitle:n.sourceTitle,sourcerevid:t.revision,sourcesectiontitle:e.originalTitle,targetsectiontitle:e.title,sourcelanguage:n.sourceLanguage,targetlanguage:n.targetLanguage},r=n.getSectionNumber(e.originalTitle);return r>-1&&(a.sectionnumber=r),(new mw.Api).postWithToken("csrf",a).then((function(){return new T})).catch((function(t,e){return e.exception?new T({result:"failure",message:e.exception.message,status:e.statusText}):e.error?new T({result:"failure",message:e.error.info,status:e.error.code}):new T({result:"failure"})}))}},M=mw.config.get("wgNamespaceIds"),E={NEW_SECTION:M[""],SANDBOX_SECTION:M.user},I=function(t,e){return mw.cx.getTitleForNamespace(t,E[e])},D={namespaced:!0,state:{username:mw.config.get("wgUserName"),translations:[],translationsLoaded:!1},getters:{getPublishedTranslationsForLanguagePair:function(t){return function(e,n){return t.translations.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&"published"===t.status}))}},getDraftTranslationsForLanguagePair:function(t){return function(e,n){return t.translations.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&"draft"===t.status}))}},getPublishedTranslations:function(t){return function(){return t.translations.filter((function(t){return"published"===t.status}))}},getDraftTranslations:function(t){return function(){return t.translations.filter((function(t){return"draft"===t.status}))}},hasSectionTranslations:function(t){return function(){return t.translations.some((function(t){return t.hasSectionTranslations}))}}},actions:{fetchTranslations:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){var n,i,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,i=t.dispatch,e.next=3,j.fetchTranslations();case 3:(a=e.sent).forEach((function(t){return n("addTranslation",t)})),r=a.reduce((function(t,e){var n=e.sourceLanguage;return t[n]=t[n]||[],t[n].push(e.sourceTitle),t}),{}),n("setTranslationsLoaded",!0),Object.keys(r).forEach((function(t){i("mediawiki/fetchPageMetadata",{language:t,titles:r[t]},{root:!0})}));case 8:case"end":return e.stop()}}),e)})))()},publishTranslation:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){var n,i,a,r,s,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,i=t.rootGetters,a=i["application/getCurrentPage"],r=n.application.currentSourceSection,s=n.application.currentSectionSuggestion,o=n.application.publishTarget,c=I(s.targetTitle,o),e.next=8,j.publishTranslation(a,r,s,c);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))()}},mutations:{addTranslation:function(t,e){t.translations.push(e)},setTranslationsLoaded:function(t,e){t.translationsLoaded=e}}},H=(n("7db0"),n("b85c")),G=(n("a15b"),n("3ca3"),n("5319"),n("2b3d"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,i=e.targetLanguage,a=e.sourceTitle,r=e.targetTitle,s=e.langLinksCount,o=e.wikidataId;Object(h.a)(this,t),this.sourceLanguage=n,this.targetLanguage=i,this.sourceTitle=a,this.targetTitle=r,this.wikidataId=o,this.langLinksCount=s}return Object(x.a)(t,[{key:"id",get:function(){return"".concat(this.sourceLanguage,"/").concat(this.targetLanguage,"/").concat(this.sourceTitle)}}]),t}()),V=(n("c740"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,i=e.targetLanguage,a=e.sourceTitle,r=e.targetTitle,s=e.present,o=e.missing,c=e.sourceSections,l=e.targetSections;Object(h.a)(this,t),this.sourceLanguage=n,this.targetLanguage=i,this.sourceTitle=a,this.targetTitle=r,this.missingSections=o,this.presentSections=s,this.sourceSections=c,this.targetSections=l}return Object(x.a)(t,[{key:"missingSectionsCount",get:function(){return Object.keys(this.missingSections).length}},{key:"presentSectionsCount",get:function(){return Object.keys(this.presentSections||{}).length}},{key:"getSectionNumber",value:function(t){var e,n=null===(e=this.presentSections)||void 0===e?void 0:e[t];return this.targetSections.findIndex((function(t){return t===n}))}}]),t}());function X(){return(X=Object(m.a)(regeneratorRuntime.mark((function t(e,n,i){var a,r,s,o,c,l,u,g=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g.length>3&&void 0!==g[3]?g[3]:24,s="/data/recommendation/article/creation/translation/".concat(e),i&&(s+="/".concat(i)),o=y.getRestbaseUrl(n,s),c=new URLSearchParams({count:r}),t.next=7,fetch("".concat(o,"?").concat(c));case 7:if((l=t.sent).ok){t.next=10;break}throw new Error("Failed to load data from server");case 10:return t.next=12,l.json();case 12:if(t.t2=a=t.sent,t.t1=null===t.t2,t.t1){t.next=16;break}t.t1=void 0===a;case 16:if(!t.t1){t.next=20;break}t.t3=void 0,t.next=21;break;case 20:t.t3=a.items;case 21:if(t.t0=t.t3,t.t0){t.next=24;break}t.t0=[];case 24:return u=t.t0,t.abrupt("return",u.map((function(t){return new G({sourceTitle:t.title.replace(/_/g," "),sourceLanguage:e,targetLanguage:n,wikidataId:t.wikidata_id,langLinksCount:t.sitelink_count})})));case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){return(Y=Object(m.a)(regeneratorRuntime.mark((function t(e,n,i){var a,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[n,e,i].map((function(t){return encodeURIComponent(t)})),r=y.getCXServerUrl("/suggest/sections/".concat(a.join("/"))),t.next=4,fetch(r).then((function(t){return t.ok?t.json():Promise.reject(new Error("Failed to load data from server"))})).then((function(t){return null==t?void 0:t.sections})).catch((function(t){return null}));case 4:return s=t.sent,t.abrupt("return",s?new V(s):null);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=Object(m.a)(regeneratorRuntime.mark((function t(e,n){var i,a,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={action:"query",format:"json",list:"cxpublishedtranslations",from:e,to:n,limit:200},a=y.getApi(e),t.prev=2,t.next=5,a.get(i);case 5:return r=t.sent,s=Z(r.result.translations),t.abrupt("return",s.filter((function(t){var e=mw.util.wikiUrlencode(t.targetURL);return y.getPageUrl(n,t.targetTitle)===e})));case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}var Z=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=[t[n],t[e]];t[e]=i[0],t[n]=i[1]}return t},J={fetchSuggestions:function(t,e,n){return X.apply(this,arguments)},fetchSectionSuggestions:function(t,e,n){return Y.apply(this,arguments)},fetchSuggestionSeeds:function(t,e){return z.apply(this,arguments)}},nt={namespaced:!0,state:{pageSuggestions:[],sectionSuggestions:[],favorites:{},sectionSuggestionsLoaded:!1},getters:{getPageSuggestionsForPair:function(t){return function(e,n){return t.pageSuggestions.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n}))}},getSectionSuggestionsForPair:function(t){return function(e,n){return t.sectionSuggestions.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n}))}},getSectionSuggestionsForArticle:function(t){return function(e,n,i){return t.sectionSuggestions.find((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&t.sourceTitle===i}))}}},actions:{fetchPageSuggestions:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.commit,a=t.dispatch,r=e.sourceLanguage,s=e.targetLanguage,o=e.seed,n.next=4,J.fetchSuggestions(r,s,o);case 4:(c=n.sent).forEach((function(t){return i("addPageSuggestion",t)})),(l=c.map((function(t){return t.sourceTitle}))).length&&a("mediawiki/fetchPageMetadata",{language:r,titles:l},{root:!0});case 8:case"end":return n.stop()}}),n)})))()},fetchSectionSuggestionsBySeeds:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,l,u,g,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t.commit,a=t.dispatch,r=t.state,s=e.seeds,o=e.sourceLanguage,i("setSectionSuggestionsLoaded",!1),c=Object(H.a)(s),n.prev=4,c.s();case 6:if((l=c.n()).done){n.next=16;break}return u=l.value,n.next=10,J.fetchSectionSuggestions(u.sourceLanguage,u.sourceTitle,u.targetLanguage);case 10:if((g=n.sent)&&i("addSectionSuggestion",g),5!==r.sectionSuggestions.length){n.next=14;break}return n.abrupt("break",16);case 14:n.next=6;break;case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(4),c.e(n.t0);case 21:return n.prev=21,c.f(),n.finish(21);case 24:if(i("setSectionSuggestionsLoaded",!0),r.sectionSuggestions.length){n.next=27;break}return n.abrupt("return");case 27:d=r.sectionSuggestions.map((function(t){return t.sourceTitle})),a("mediawiki/fetchPageMetadata",{language:o,titles:d},{root:!0});case 29:case"end":return n.stop()}}),n,null,[[4,18,21,24]])})))()},loadSectionSuggestion:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.commit,a=t.dispatch,r=t.getters,s=e.sourceLanguage,o=e.targetLanguage,c=e.sourceTitle,l=r.getSectionSuggestionsForArticle(s,o,c)){n.next=11;break}return n.next=6,J.fetchSectionSuggestions(s,c,o);case 6:if(l=n.sent){n.next=9;break}return n.abrupt("return");case 9:i("addSectionSuggestion",l),a("mediawiki/fetchPageMetadata",{language:s,titles:[c]},{root:!0});case 11:a("application/setCurrentSectionSuggestion",l,{root:!0});case 12:case"end":return n.stop()}}),n)})))()},fetchSuggestions:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var a,r,s,o,c,l,u,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.rootGetters,r=t.dispatch,s=e.sourceLanguage,o=e.targetLanguage,(c=a["translator/getPublishedTranslationsForLanguagePair"](s,o)).length){n.next=7;break}return n.next=6,J.fetchSuggestionSeeds(s,o);case 6:c=n.sent;case 7:r("fetchSectionSuggestionsBySeeds",{seeds:c,sourceLanguage:s}),(new i.a).$incompleteVersion||(g=null===(l=(null===(u=c)||void 0===u?void 0:u[0])||{})||void 0===l?void 0:l.sourceTitle,r("fetchPageSuggestions",{sourceLanguage:s,targetLanguage:o,seed:g}));case 9:case"end":return n.stop()}}),n)})))()}},mutations:{addPageSuggestion:function(t,e){t.pageSuggestions.push(e)},addSectionSuggestion:function(t,e){t.sectionSuggestions.push(e)},setSectionSuggestionsLoaded:function(t,e){t.sectionSuggestionsLoaded=e}}},it=(n("caad"),n("fb6a"),n("2532"),n("dca8"),n("ade3")),at=(n("a4d3"),n("e01a"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.description,i=e.langlinkscount,a=e.lastrevid,r=e.original,s=e.pageid,o=e.pagelanguage,c=e.pageprops,l=e.pageviews,u=e.thumbnail,g=e.title,d=e._alias,p=e.content,m=void 0===p?null:p,f=e.sections,S=void 0===f?[]:f;Object(h.a)(this,t),this.language=o,this.title=g,this.pageId=s,this.description=n,this.image=r,this.pageprops=c,this.pageviews=l,this.thumbnail=u,this.langLinksCount=i,this.revision=a,this.alias=d,this.wikidataId=null==c?void 0:c.wikibase_item,this.content=m,this.sections=S}return Object(x.a)(t,[{key:"id",get:function(){return"".concat(this.language,"/").concat(this.title)}}]),t}()),rt=function(){function t(e,n){Object(h.a)(this,t),this.wikidataId=e,this.titles=n}return Object(x.a)(t,[{key:"getTitleForLanguage",value:function(t){var e;return null===(e=this.titles.find((function(e){return e.lang===t})))||void 0===e?void 0:e.title}},{key:"hasLanguage",value:function(t){return this.titles.some((function(e){return e.lang===t}))}}]),t}(),st=(n("a630"),n("07ac"),n("498a"),n("4f96")),ot=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.id,a=n.originalContent,r=n.translatedContent,o=void 0===r?"":r,c=n.node,l=void 0===c?null:c,u=n.proposedTranslations,g=void 0===u?{}:u,d=n.selected,p=void 0!==d&&d;Object(h.a)(this,t),this.id=i,this.translatedContent=o,this.node=l,this.proposedTranslations=Object(s.a)(Object(s.a)({},g),{},(e={},Object(it.a)(e,C.ORIGINAL_TEXT_PROVIDER_KEY,a),Object(it.a)(e,C.EMPTY_TEXT_PROVIDER_KEY,""),e)),this.selected=p}return Object(x.a)(t,[{key:"originalContent",get:function(){return this.proposedTranslations[C.ORIGINAL_TEXT_PROVIDER_KEY]}},{key:"content",get:function(){return this.translatedContent||this.originalContent}},{key:"isTranslated",get:function(){return""!==this.translatedContent}}]),t}(),ct=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sentences,i=e.node;Object(h.a)(this,t),this.id=i.id,this.sentences=n,this.node=i}return Object(x.a)(t,[{key:"originalHtml",get:function(){return this.node.outerHTML}},{key:"translatedContent",get:function(){var t=this,e=this.node.cloneNode(!0);return Array.from(e.getElementsByClassName("cx-segment")).forEach((function(e){var n=t.getSentenceById(e.dataset.segmentid);n.isTranslated?e.innerHTML=n.translatedContent:e.parentNode.removeChild(e)})),e.innerHTML}},{key:"getProposedTranslation",value:function(t){return this.sentences.reduce((function(e,n){return n.isTranslated&&(e+=n.proposedTranslations[t]),e}),"")}},{key:"isTranslated",get:function(){return this.sentences.some((function(t){return t.isTranslated}))}},{key:"getSentenceById",value:function(t){return this.sentences.find((function(e){return e.id===t}))}}]),t}(),lt=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.id,a=n.title,r=void 0===a?null:a,s=n.subSections,o=void 0===s?[]:s;Object(h.a)(this,t),this.id=i,this.proposedTitleTranslations=(e={},Object(it.a)(e,C.ORIGINAL_TEXT_PROVIDER_KEY,r),Object(it.a)(e,C.EMPTY_TEXT_PROVIDER_KEY,""),e),this.translatedTitle="",this.subSections=o,this.editedTranslation=null}return Object(x.a)(t,[{key:"originalTitle",get:function(){return this.proposedTitleTranslations[C.ORIGINAL_TEXT_PROVIDER_KEY]}},{key:"title",get:function(){return this.translatedTitle||this.originalTitle}},{key:"sentences",get:function(){return this.subSections.reduce((function(t,e){return[].concat(Object(w.a)(t),Object(w.a)(e.sentences))}),[])}},{key:"html",get:function(){return this.subSections.reduce((function(t,e){return t+e.originalHtml}),"")}},{key:"translationHtml",get:function(){return this.editedTranslation||this.subSections.reduce((function(t,e){return e.isTranslated?t+e.translatedContent:t}),"")}},{key:"isTranslated",get:function(){return this.subSections.some((function(t){return t.isTranslated}))}}]),t}(),gt=function(t){var e=Array.from(t).reduce((function(t,e){var n=e.dataset.mwSectionNumber;return t[n]=t[n]?[].concat(Object(w.a)(t[n]),[e]):[e],t}),{});return Object.values(e)},dt=function(t){return Array.from(t.getElementsByClassName("cx-segment")).map((function(t){return new ot({id:t.dataset.segmentid,originalContent:t.innerHTML,node:t})}))},pt_convertSegmentedContentToPageSections=function(t){var i=(new DOMParser).parseFromString(t,"text/html").querySelectorAll("section[rel='cx:Section']:not([data-mw-section-number='0'])");return gt(i).map((function(t){var e=Object(st.a)(t),n=e[0],a=e.slice(1).map((function(t){return new ct({sentences:dt(t),node:t})}));return new lt({id:n.dataset.mwSectionNumber,title:n.textContent.trim(),subSections:a})}))};var wt=function(t,e,n){var i=[t,e,n].map((function(t){return encodeURIComponent(t)})),a=y.getCXServerUrl("/page/".concat(i.join("/")));return fetch(a).then((function(t){return t.json()})).then((function(t){return t.segmentedContent}))},xt={fetchPages:function(t,e){var n={action:"query",format:"json",formatversion:2,prop:"info|pageprops|pageimages|description|pageviews|langlinkscount",pvipdays:7,piprop:"thumbnail|name|original",pithumbsize:100,titles:e.join("|"),lllimit:500,origin:"*",redirects:!0};return y.getApi(t).get(n).then((function(t){var e=t.query.pages,i=(t.query.redirects||[]).reduce((function(t,e){return Object(s.a)(Object(s.a)({},t),{},Object(it.a)({},e.to,e.from))}),{});return e.map((function(t){return t=i[t.title]?Object(s.a)(Object(s.a)({},t),{},{_alias:i[t.title]}):t,new at(t)}))}))},fetchLanguageTitles:function(t,e){var n={action:"query",format:"json",formatversion:2,prop:"langlinks|pageprops",titles:e,lllimit:500,origin:"*",redirects:!0};return y.getApi(t).get(n).then(function(){var n=Object(m.a)(regeneratorRuntime.mark((function n(i){var a,r,s,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=i.query.pages)&&s.length&&(null===(a=s[0])||void 0===a||!a.missing)){n.next=3;break}return n.abrupt("return",null);case 3:if(o=[{lang:t,title:e}].concat(Object(w.a)(s[0].langlinks)),c=null===(r=s[0].pageprops)||void 0===r?void 0:r.wikibase_item){n.next=7;break}return n.abrupt("return",null);case 7:return n.abrupt("return",Object.freeze(new rt(c,o)));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},fetchPageContent:function(t,e,n){return wt(t,e,n).then((function(e){return new at({sections:pt_convertSegmentedContentToPageSections(e),content:e,pagelanguage:t,title:n})}))},fetchPageSections:function(t,e,n){return wt(t,e,n).then((function(t){return pt_convertSegmentedContentToPageSections(t)}))}},vt=(n("b0c0"),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.code,i=e.bcp47,a=e.dir,r=e.autonym,s=e.name,o=e.fallbacks,c=e.variants;Object(h.a)(this,t),this.code=n,this.bcp47=i,this.autonym=r,this.dir=a,this.name=s,this.fallbacks=o,this.variants=c});function Tt(){return(Tt=Object(m.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getLanguagePairs().then((function(t){return t.sourceLanguages}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(){return(yt=Object(m.a)(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=y.getCXServerUrl("/list/pair/".concat(e,"/").concat(n)),t.abrupt("return",fetch(i).then((function(t){return t.json()})).then((function(t){return Object.freeze(new C(e,n,t.mt))})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var kt={fetchLanguages:function bt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=arguments.length>1?arguments[1]:void 0,n={action:"query",format:"json",formatversion:2,meta:"languageinfo",liprop:"autonym|dir|name|code|bcp47|fallbacks|variants",origin:"*"};e&&(n.licontinue=e);var i=y.getApi(t);return i.get(n).then(function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(n){var i,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(i=n.continue)||void 0===i?void 0:i.licontinue,r=n.query.languageinfo,!a){e.next=10;break}return e.t0=Object,e.t1={},e.t2=r,e.next=8,bt(t,a);case 8:e.t3=e.sent,r=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3);case 10:return e.abrupt("return",Object.values(r).map((function(t){return Object.freeze(new vt(t))})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchSupportedLanguageCodes:function(){return Tt.apply(this,arguments)},fetchSupportedMTProviders:function(t,e){return yt.apply(this,arguments)},fetchCXServerToken:function(){return(new mw.Api).postWithToken("csrf",{action:"cxtoken",assert:"user"})}},Pt={addPage:function(t,e){t.pages.push(e)},addLanguageTitleGroup:function(t,e){t.languageTitleGroups.push(e)},setLanguages:function(t,e){t.languages=e},setSupportedLanguageCodes:function(t,e){t.supportedLanguageCodes=e},addMtProviderGroup:function(t,e){t.supportedMTProviderGroups.push(e)},setPageSections:function(t,e){var n=e.page,a=e.sections;i.a.set(n,"sections",a)}},At={getPage:function(t){return function(e,n){return t.pages.find((function(t){return t.language===e&&(t.title===n||t.alias===n)}))}},getLanguageTitleGroup:function(t){return function(e,n){return t.languageTitleGroups.find((function(t){return t.titles.find((function(t){return t.lang===e&&t.title===n}))}))}},getLanguageTitleGroupByWikidataId:function(t){return function(e){return t.languageTitleGroups.find((function(t){return t.wikidataId===e}))}},getTitleByLanguageForGroup:function(t,e){return function(t,n){var i,a;return null===(i=((null===(a=e.getLanguageTitleGroupByWikidataId(t))||void 0===a?void 0:a.titles)||[]).find((function(t){return t.lang===n})))||void 0===i?void 0:i.title}},getLanguage:function(t){return function(e){return t.languages.find((function(t){return t.code===e}))}},getPageSection:function(t){return function(t,e){return((null==t?void 0:t.sections)||[]).find((function(t){return t.originalTitle===e}))}},getSupportedMTProviders:function(t){return function(e,n){var i;return(null===(i=t.supportedMTProviderGroups.find((function(t){return t.sourceLanguage===e&&t.targetLanguage===n})))||void 0===i?void 0:i.providers)||[]}},isValidProviderForTranslation:function(t,e){return function(t,n,i){return e.getSupportedMTProviders(t,n).includes(i)&&i!==C.EMPTY_TEXT_PROVIDER_KEY}}},jt={fetchPageMetadata:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t.getters,a=t.commit,r=e.language,s=(s=e.titles).filter((function(t){return!i.getPage(r,t)})),o=50,c=0;case 5:if(!(c<s.length)){n.next=14;break}return l=s.slice(c,c+o),n.next=9,xt.fetchPages(r,l);case 9:n.sent.forEach((function(t){a("addPage",t)}));case 11:c+=o,n.next=5;break;case 14:case"end":return n.stop()}}),n)})))()},fetchLanguageTitles:function(t,e){var n=t.commit,i=t.getters,a=e.language,r=e.title;i.getLanguageTitleGroup(a,r)||xt.fetchLanguageTitles(a,r).then((function(t){return t&&n("addLanguageTitleGroup",t)}))},fetchLanguages:function(t){var e=t.commit;kt.fetchLanguages().then((function(t){e("setLanguages",t)}))},fetchSupportedLanguageCodes:function(t){var e=t.commit;kt.fetchSupportedLanguageCodes().then((function(t){e("setSupportedLanguageCodes",t)}))},fetchPageContent:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.commit,a=t.getters,t.dispatch,r=e.sourceLanguage,s=e.targetLanguage,o=e.sourceTitle,c=a.getPage(r,o)){n.next=8;break}return n.next=6,xt.fetchPageContent(r,s,o);case 6:c=n.sent,i("addPage",c);case 8:if(!c.content){n.next=10;break}return n.abrupt("return");case 10:xt.fetchPageContent(r,s,o).then((function(t){return c.content=t.content}));case 11:case"end":return n.stop()}}),n)})))()},fetchPageSections:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.getters,a=t.commit,r=e.sourceLanguage,s=e.targetLanguage,o=e.sourceTitle,c=i.getPage(r,o)){n.next=5;break}return n.abrupt("return");case 5:return n.abrupt("return",xt.fetchPageSections(r,s,o).then((function(t){return a("setPageSections",{page:c,sections:t})})));case 6:case"end":return n.stop()}}),n)})))()},fetchMTProviders:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.commit,a=t.getters,r=e.sourceLanguage,s=e.targetLanguage,!a.getSupportedMTProviders(r,s).length){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,kt.fetchSupportedMTProviders(r,s);case 6:o=n.sent,i("addMtProviderGroup",o);case 8:case"end":return n.stop()}}),n)})))()},translateSegment:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.getters,t.rootGetters,a=t.dispatch,r=e.sourceLanguage,s=e.targetLanguage,o=e.provider,c=e.originalContent,i.isValidProviderForTranslation(r,s,o)){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,n.next=8,a("application/getCXServerToken",{},{root:!0});case 8:return u=n.sent,n.next=11,j.fetchSegmentTranslation(r,s,o,c,u);case 11:return n.abrupt("return",n.sent);case 14:return n.prev=14,n.t0=n.catch(5),n.abrupt("return",c);case 17:case"end":return n.stop()}}),n,null,[[5,14]])})))()}},Mt={namespaced:!0,state:{pages:[],languages:[],languageTitleGroups:[],supportedLanguageCodes:[],supportedMTProviderGroups:[]},getters:At,actions:jt,mutations:Pt},Et=(n("25f0"),n("841c"),n("8c4f")),Dt=(n("c975"),n("6062"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.translation?n("div",{staticClass:"row cx-translation pa-4 ma-0",on:{click:t.onClick}},[n("div",{staticClass:"col shrink pe-4"},[n("mw-thumbnail",{staticClass:"cx-translation__thumbnail",attrs:{thumbnail:t.getImage(t.translation.sourceLanguage,t.translation.sourceTitle),width:84}})],1),n("div",{staticClass:"col"},[n("div",{staticClass:"cx-translation__details column justify-between ma-0"},[n("div",{staticClass:"row ma-0"},[n("div",{staticClass:"col grow"},[n("h5",{staticClass:"cx-translation__source-title pb-2",attrs:{lang:t.translation.sourceLanguage}},[t._v(" "+t._s(t.translation.sourceTitle)+" ")]),n("h6",{staticClass:"cx-translation__target-title",attrs:{lang:t.translation.targetLanguage}},[t._v(" "+t._s(t.translation.targetTitle)+" ")])]),n("div",{staticClass:"col shrink ps-2"},[n("mw-icon",{attrs:{size:24,icon:"published"===t.translation.status?t.mwIconEdit:t.mwIconTrash}})],1)]),n("div",{staticClass:"row ma-0 text-small"},[n("div",{staticClass:"cx-translation__languages col grow"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.translation.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.translation.sourceLanguage))}}),n("mw-icon",{staticClass:"mx-1",attrs:{icon:t.mwIconArrowNext}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.translation.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.translation.targetLanguage))}})],1)])])])]):t._e()}),Gt={computed:Object(s.a)({},Object(c.c)({getLanguage:"mediawiki/getLanguage"})),methods:{getAutonym:function(t){var e,n,i;try{i=Intl.DisplayNames&&new Intl.DisplayNames(t)}catch(a){}return(null===(e=this.getLanguage(t))||void 0===e?void 0:e.autonym)||(null===(n=i)||void 0===n?void 0:n.of(t))||t},getDirection:function(t){var e;return(null===(e=this.getLanguage(t))||void 0===e?void 0:e.dir)||"auto"}}},Vt=n("4cf1"),Ut={name:"CxTranslationWork",components:{MwThumbnail:o.q,MwIcon:o.i},mixins:[Gt],props:{translation:{type:S,required:!0}},data:function(){return{mwIconEdit:Vt.l,mwIconTrash:Vt.C,mwIconArrowForward:Vt.c,mwIconArrowNext:Vt.d}},methods:{onClick:function(t){this.$emit("click",t),this.startTranslation(this.translation)},startTranslation:function(t){y.setCXToken(t.sourceLanguage,t.targetLanguage,t.sourceTitle),location.href=y.getCXUrl(t.sourceTitle,t.targetTitle,t.sourceLanguage,t.targetLanguage,{campaign:(new mw.Uri).query.campaign})},getPage:function(t,e){return this.$store.getters["mediawiki/getPage"](t,e)},getImage:function(t,e){var n=this.getPage(t,e);return null==n?void 0:n.thumbnail}}},Xt=Ut,qt=(n("5282"),Object(g.a)(Xt,Dt,[],!1,null,null,null)),Yt=qt.exports,Zt={name:"SxTranslationListLanguageSelector",components:{MwLanguageSelector:o.j,MwDialog:o.f,MwIcon:o.i,MwButton:o.b},mixins:[Gt],props:{sourceLanguages:{type:Array,required:!0},targetLanguages:{type:Array,required:!0}},data:function(){return{mwIconArrowNext:Vt.d,mwIconExpand:Vt.o,sourceLanguageSelectOn:!1,targetLanguageSelectOn:!1}},computed:Object(s.a)({},Object(c.d)({selectedSourceLanguage:function(t){return t.application.sourceLanguage},selectedTargetLanguage:function(t){return t.application.targetLanguage}})),methods:{openSourceLanguageDialog:function(){this.sourceLanguageSelectOn=!0},openTargetLanguageDialog:function(){this.targetLanguageSelectOn=!0},onSourceLanguageDialogClose:function(){this.sourceLanguageSelectOn=!1},onTargetLanguageDialogClose:function(){this.targetLanguageSelectOn=!1},onSourceLanguageSelected:function(t){this.sourceLanguageSelectOn=!1,this.$emit("source-language-selected",t)},onTargetLanguageSelected:function(t){this.targetLanguageSelectOn=!1,this.$emit("target-language-selected",t)}}},Jt=Zt,Wt=(n("e1af"),Object(g.a)(Jt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row sx-translation-list-language-selector ma-0 justify-center items-center"},[n("div",{staticClass:"col-5 justify-end"},[n("mw-button",{staticClass:"pa-3 sx-translation-list-language-selector__button",attrs:{indicator:t.mwIconExpand,outlined:!1,type:"text"},on:{click:function(e){return e.stopPropagation(),t.openSourceLanguageDialog(e)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.selectedSourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.selectedSourceLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.sourceLanguageSelectOn,expression:"sourceLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:t.onSourceLanguageDialogClose}},[n("div",{staticClass:"row"},[t.sourceLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-translation-list-language-selector__widget col-12",attrs:{languages:t.sourceLanguages},on:{select:t.onSourceLanguageSelected}}):t._e()],1)])],1),n("div",{staticClass:"sx-translation-list-language-selector__arrow col-2 justify-center"},[n("mw-icon",{attrs:{icon:t.mwIconArrowNext}})],1),n("div",{staticClass:"col-5 justify-start"},[n("mw-button",{staticClass:"pa-3 sx-translation-list-language-selector__button",attrs:{indicator:t.mwIconExpand,outlined:!1,type:"text",disabled:t.targetLanguages.length<2},on:{click:function(e){return e.stopPropagation(),t.openTargetLanguageDialog(e)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.selectedTargetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.selectedTargetLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.targetLanguageSelectOn,expression:"targetLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:t.onTargetLanguageDialogClose}},[n("div",{staticClass:"row"},[t.targetLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-translation-list-language-selector__widget col-12",attrs:{languages:t.targetLanguages},on:{select:t.onTargetLanguageSelected}}):t._e()],1)])],1)])}),[],!1,null,null,null)),Qt=Wt.exports,te={name:"CxTranslationList",components:{CxTranslationWork:Yt,MwCard:o.d,MwSpinner:o.p,SxTranslationListLanguageSelector:Qt},mixins:[Gt],props:{active:{type:Boolean,default:!1},translationStatus:{type:String,validator:function(t){return-1!==["published","draft"].indexOf(t)}}},data:function(){return{labelForAllTranslationsOption:this.$i18n("cx-translation-list-all-languages-option-label"),selectedSourceLanguage:this.$i18n("cx-translation-list-all-languages-option-label"),selectedTargetLanguage:this.$i18n("cx-translation-list-all-languages-option-label")}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({loaded:function(t){return t.translator.translationsLoaded}})),{},{availableSourceLanguages:function(){var t=this;return this.translations.map((function(t){return t.sourceLanguage})).filter((function(t,e,n){return n.indexOf(t)===e})).reduce((function(e,n){return[].concat(Object(w.a)(e),[{name:t.getAutonym(n),code:n}])}),[{name:this.labelForAllTranslationsOption,code:this.labelForAllTranslationsOption}])},availableTargetLanguages:function(){var t=this,e=this.translations.map((function(t){return t.targetLanguage})),n=mw.config.get("wgSectionTranslationTargetLanguage");return n&&(e=e.filter((function(t){return t===n}))),Object(w.a)(new Set(e)).reduce((function(e,n){return[].concat(Object(w.a)(e),[{name:t.getAutonym(n),code:n}])}),[{name:this.labelForAllTranslationsOption,code:this.labelForAllTranslationsOption}])},translations:function(){return"published"===this.translationStatus?this.$store.getters["translator/getPublishedTranslations"]():this.$store.getters["translator/getDraftTranslations"]()},activeTranslations:function(){var t=this;return this.translations.filter((function(e){return(t.isActiveForAllSourceLanguages||e.sourceLanguage===t.selectedSourceLanguage)&&(t.isActiveForAllTargetLanguages||e.targetLanguage===t.selectedTargetLanguage)}))},isActiveForAllSourceLanguages:function(){return this.selectedSourceLanguage===this.labelForAllTranslationsOption},isActiveForAllTargetLanguages:function(){return this.selectedTargetLanguage===this.labelForAllTranslationsOption}})},ee=te,ne=(n("2293"),Object(g.a)(ee,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-card",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],class:"cx-translation-list--"+t.translationStatus},[n("template",{slot:"header"},[n("h3",{staticClass:"mw-ui-card__title pa-4 pt-5 mb-0",domProps:{textContent:t._s(t.$i18n("cx-translation-label-"+t.translationStatus))}})]),n("sx-translation-list-language-selector",{attrs:{"selected-source-language":t.selectedSourceLanguage,"selected-target-language":t.selectedTargetLanguage,"source-languages":t.availableSourceLanguages,"target-languages":t.availableTargetLanguages},on:{"update:selectedSourceLanguage":function(e){t.selectedSourceLanguage=e},"update:selected-source-language":function(e){t.selectedSourceLanguage=e},"update:selectedTargetLanguage":function(e){t.selectedTargetLanguage=e},"update:selected-target-language":function(e){t.selectedTargetLanguage=e}}}),t.loaded?t._e():n("mw-spinner"),t._l(t.activeTranslations,(function(e,i){return n("cx-translation-work",{key:t.translationStatus+"-"+i,attrs:{translation:e}})}))],2)}),[],!1,null,null,null)),ie=ne.exports,ce={name:"CxTranslationSuggestion",components:{MwThumbnail:o.q,MwIcon:o.i},mixins:[Gt],props:{suggestion:{type:[G,V],required:!0}},data:function(){return{mwIconStar:Vt.B,mwIconArrowForward:Vt.c}},computed:{page:function(){return this.$store.getters["mediawiki/getPage"](this.suggestion.sourceLanguage,this.suggestion.sourceTitle)}},methods:{handleClick:function(t){this.$emit("click",t)}}},le=ce,pe={name:"CxSuggestionList",components:{SxTranslationListLanguageSelector:Qt,CxTranslationSuggestion:(n("b4c7"),Object(g.a)(le,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.suggestion?n("div",{staticClass:"row cx-suggestion pa-4 ma-0",on:{click:t.handleClick}},[n("div",{staticClass:"col shrink pe-4"},[n("mw-thumbnail",{staticClass:"cx-suggestion__thumbnail",attrs:{thumbnail:t.page&&t.page.thumbnail,width:84}})],1),n("div",{staticClass:"col pe-2"},[n("h5",{staticClass:"mt-0 mb-2 cx-suggestion__source-title",attrs:{lang:t.suggestion.sourceLanguage}},[t._v(" "+t._s(t.suggestion.sourceTitle)+" ")]),n("p",{staticClass:"cx-suggestion__source-description complementary",attrs:{lang:t.suggestion.sourceLanguage}},[t._v(" "+t._s(t.page&&t.page.description)+" ")]),n("div",{staticClass:"mt-2 cx-suggestion__languages text-small"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.suggestion.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.suggestion.sourceLanguage))}}),n("mw-icon",{attrs:{icon:t.mwIconArrowForward}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.suggestion.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.suggestion.targetLanguage))}})],1)]),n("div",{staticClass:"col-1"},[n("mw-icon",{attrs:{icon:t.mwIconStar,size:24}})],1)]):t._e()}),[],!1,null,null,null)).exports,MwCard:o.d,MwButton:o.b,MwSpinner:o.p},mixins:[Gt],props:{active:{type:Boolean,default:!1}},data:function(){return{mwIconRefresh:Vt.x,pageSuggestionsLoaded:!1,paginationIndex:0,pageSize:3}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({supportedLanguageCodes:function(t){return t.mediawiki.supportedLanguageCodes||[]},selectedSourceLanguage:function(t){return t.application.sourceLanguage},selectedTargetLanguage:function(t){return t.application.targetLanguage},sectionSuggestionsLoaded:function(t){return t.suggestions.sectionSuggestionsLoaded}})),Object(c.c)({pageSuggestionsForPair:"application/getCurrentPageSuggestions",sectionSuggestionForPair:"application/getCurrentSectionSuggestions",publishedTranslations:"application/getCurrentPublishedTranslations"})),{},{availableSourceLanguages:function(){var t=this;return this.supportedLanguageCodes.filter((function(e){return e!==t.selectedTargetLanguage})).reduce((function(e,n){return[].concat(Object(w.a)(e),[{name:t.getAutonym(n),code:n}])}),[])},availableTargetLanguages:function(){var t=this,e=mw.config.get("wgSectionTranslationTargetLanguage");return(e?[e]:this.supportedLanguageCodes).filter((function(e){return e!==t.selectedSourceLanguage})).reduce((function(e,n){return[].concat(Object(w.a)(e),[{name:t.getAutonym(n),code:n}])}),[])},pageSuggestionsForPairSubset:function(){return this.pageSuggestionsForPair.slice(this.paginationIndex*this.pageSize,this.paginationIndex*this.pageSize+this.pageSize)},seedArticleTitle:function(){return this.paginationIndex<this.publishedTranslations.length?this.publishedTranslations[this.paginationIndex].sourceTitle:null}}),watch:{pageSuggestionsForPair:function(){this.pageSuggestionsLoaded=!0},selectedSourceLanguage:function(){this.fetchPageSuggestions({sourceLanguage:this.selectedSourceLanguage,targetLanguage:this.selectedTargetLanguage}),this.pageSuggestionsLoaded=!1},selectedTargetLanguage:function(){this.fetchPageSuggestions({sourceLanguage:this.selectedSourceLanguage,targetLanguage:this.selectedTargetLanguage}),this.pageSuggestionsLoaded=!1}},methods:Object(s.a)(Object(s.a)({},Object(c.b)({fetchPageSuggestions:"suggestions/fetchPageSuggestions",startSectionTranslation:"application/startSectionTranslation"})),{},{showMoreSuggestions:function(){this.paginationIndex*this.pageSize+this.pageSize>=this.pageSuggestionsForPair.length?this.paginationIndex=0:(this.paginationIndex++,this.seedArticleTitle&&this.fetchPageSuggestions({sourceLanguage:this.selectedSourceLanguage,targetLanguage:this.selectedTargetLanguage,seed:this.seedArticleTitle}))},updateSourceLanguage:function(t){this.$store.commit("application/setSourceLanguage",t)},updateTargetLanguage:function(t){this.$store.commit("application/setTargetLanguage",t)}})},fe=(n("c34a"),Object(g.a)(pe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}]},[n("mw-card",{staticClass:"cx-translation-list--suggestions pa-0 mb-0"},[n("template",{slot:"header"},[n("h3",{staticClass:"mw-ui-card__title pa-4 pt-5 mb-0",domProps:{textContent:t._s(t.$i18n("cx-suggestionlist-title"))}})]),n("sx-translation-list-language-selector",{attrs:{"source-languages":t.availableSourceLanguages,"target-languages":t.availableTargetLanguages},on:{"source-language-selected":t.updateSourceLanguage,"target-language-selected":t.updateTargetLanguage}})],2),t.$incompleteVersion?t._e():n("mw-card",{staticClass:"pa-0 mb-0"},[n("div",{staticClass:"cx-translation-list__division"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-suggestion-list-new-pages-division",arg:"cx-suggestion-list-new-pages-division"}],staticClass:"ma-0 pa-4"})]),t.pageSuggestionsLoaded?t._e():n("mw-spinner"),t._l(t.pageSuggestionsForPairSubset,(function(t,e){return n("cx-translation-suggestion",{key:"suggestion-"+e,attrs:{suggestion:t}})}))],2),n("mw-card",{staticClass:"cx-translation-list--sx-suggestions pa-0 mb-0"},[n("div",{staticClass:"cx-translation-list__division"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-suggestionlist-expand-sections-title",arg:"cx-suggestionlist-expand-sections-title"}],staticClass:"ma-0 pa-4"})]),t._l(t.sectionSuggestionForPair,(function(e,i){return n("cx-translation-suggestion",{key:"suggestion-"+i,staticClass:"ma-0",attrs:{suggestion:e},on:{click:function(n){return t.startSectionTranslation(e)}}})})),t.sectionSuggestionsLoaded?t._e():n("mw-spinner")],2),n("div",{staticClass:"cx-suggestion-list__refresh-button-container d-flex justify-center"},[t.pageSuggestionsLoaded?n("mw-button",{staticClass:"ma-0 pa-4",attrs:{type:"text",label:t.$i18n("cx-suggestionlist-refresh"),outlined:!1,icon:t.mwIconRefresh},on:{click:t.showMoreSuggestions}}):t._e()],1)],1)}),[],!1,null,null,null)).exports,xe={name:"ExperimentalSupportBanner",components:{MwCol:o.e,MwRow:o.o,MwCard:o.d,MwIcon:o.i},data:function(){return{mwIconLabFlask:Vt.r,learnMoreUrl:"https://www.mediawiki.org/wiki/Special:MyLanguage/Content_translation/Section_translation",feedbackUrl:"https://www.mediawiki.org/wiki/Talk:Content_translation/Section_translation"}}},Ce=(n("63ac"),Object(g.a)(xe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-card",{staticClass:"experimental-support-banner mb-1"},[n("mw-row",[n("mw-col",{staticClass:"experimental-support-banner__icon me-3",attrs:{shrink:""}},[n("mw-icon",{attrs:{icon:t.mwIconLabFlask}})],1),n("mw-col",[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-title",arg:"cx-dashboard-experimental-support-banner-title"}]}),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-description",arg:"cx-dashboard-experimental-support-banner-description"}],staticClass:"complementary"}),n("p",{staticClass:"complementary mt-4"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-learn-more-anchor",arg:"cx-dashboard-experimental-support-banner-learn-more-anchor"}],attrs:{target:"_blank",href:t.learnMoreUrl}})]),n("p",{staticClass:"complementary"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-share-feedback-anchor",arg:"cx-dashboard-experimental-support-banner-share-feedback-anchor"}],attrs:{target:"_blank",href:t.feedbackUrl}})])])],1)],1)}),[],!1,null,null,null)).exports,_e={name:"CxDashboard",components:{MwRow:o.o,ExperimentalSupportBanner:Ce,CxSuggestionList:fe,CxTranslationList:ie,MwButtonGroup:o.c,MwBottomNavigation:o.a,MwButton:o.b},data:function(){return{mwIconAdd:Vt.a,mwIconArticleCheck:Vt.f,mwIconLightBulb:Vt.t,mwIconEdit:Vt.l,active:"suggestions"}},computed:{listSelector:function(t){return[{value:"suggestions",props:{label:t.$i18n("cx-translation-filter-suggested-translations"),icon:Vt.t,type:"text"}},{value:"draft",props:{label:t.$i18n("cx-translation-filter-draft-translations"),icon:Vt.l,type:"text"}},{value:"published",props:{label:t.$i18n("cx-translation-filter-published-translations"),icon:Vt.f,type:"text"}}]}},watch:{active:function(){window.scrollTo(0,0)}},mounted:function(){new URLSearchParams(window.location.search).get("sx")&&(this.active="suggestions")},created:function(){this.$store.dispatch("application/initializeDashboardContext")}},Pe={name:"DashboardView",components:{CxDashboard:Object(g.a)(_e,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$incompleteVersion?n("experimental-support-banner",{staticClass:"mb-4"}):t._e(),t.$incompleteVersion?t._e():n("mw-row",{staticClass:"ma-0"},[n("mw-button",{staticClass:"col-md-4 col-xs-12 col-lg-3 mb-4 mt-4",attrs:{progressive:"",icon:t.mwIconAdd,label:t.$i18n("cx-create-new-translation")}})],1),!t.$incompleteVersion&&t.$mwui.breakpoint.mdAndUp?n("nav",[n("mw-button-group",{staticClass:"justify-around",attrs:{items:t.listSelector,active:t.active},on:{select:function(e){t.active=e}}})],1):t._e(),n("cx-suggestion-list",{attrs:{active:"suggestions"===t.active}}),t.$incompleteVersion?t._e():n("cx-translation-list",{attrs:{"translation-status":"published",active:"published"===t.active}}),t.$incompleteVersion?t._e():n("cx-translation-list",{attrs:{"translation-status":"draft",active:"draft"===t.active}}),!t.$incompleteVersion&&t.$mwui.breakpoint.smAndDown?n("mw-bottom-navigation",{attrs:{items:t.listSelector,active:t.active},on:{"update:active":function(e){t.active=e}}}):t._e()],1)}),[],!1,null,null,null).exports}},je=Object(g.a)(Pe,(function(){var e=this.$createElement,n=this._self._c||e;return n("main",{staticClass:"cx-translation-dashboard"},[n("cx-dashboard",{staticClass:"col-xs-12 col-md-8 col-lg-7 col-offset-lg-1 mb-4 pb-12"})],1)}),[],!1,null,null,null).exports,He={name:"ExistingArticleBanner",components:{MwRow:o.o,MwCol:o.e},mixins:[Gt],computed:Object(s.a)(Object(s.a)({},Object(c.d)({sectionSuggestion:function(t){return t.application.currentSectionSuggestion}})),{},{targetArticlePath:function(t){return y.getPageUrl(t.sectionSuggestion.targetLanguage||"",t.sectionSuggestion.targetTitle||"")},targetLanguageAutonym:function(t){return t.getAutonym(t.sectionSuggestion.targetLanguage)}})},Xe={name:"ExistingArticleBody",components:{ExistingArticleBanner:(n("296b"),Object(g.a)(He,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("mw-row",{staticClass:"sx-article-selector__translation-status pa-4 ma-0",attrs:{justify:"between"}},[n("mw-col",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-status",value:[t.targetLanguageAutonym],expression:"[targetLanguageAutonym]",arg:"cx-sx-existing-translation-status"}]}),n("mw-col",{attrs:{shrink:""}},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-view-translation-anchor",arg:"cx-sx-view-translation-anchor"}],attrs:{href:t.targetArticlePath}})])],1),n("mw-row",{staticClass:"pa-4 pb-0 ma-0"},[n("mw-col",[n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-additional-info",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-existing-translation-additional-info"}]}),t._v(" "),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-learn-more",arg:"cx-sx-existing-translation-learn-more"}],attrs:{target:"_blank",href:"https://www.mediawiki.org/wiki/Special:MyLanguage/Content_translation/Section_translation"}})])],1)],1)}),[],!1,null,null,null)).exports,MwButton:o.b,MwRow:o.o},mixins:[Gt],computed:Object(s.a)(Object(s.a)({},Object(c.d)({currentSectionSuggestion:function(t){return t.application.currentSectionSuggestion}})),{},{translationExists:function(t){var e;return null===(e=t.currentSectionSuggestion)||void 0===e?void 0:e.presentSectionsCount},actionButtonLabel:function(t){return t.translationExists?t.$i18n("cx-sx-select-section"):t.$i18n("cx-sx-start-translation-button-label")},missingSectionsCount:function(t){var e;return null===(e=t.currentSectionSuggestion)||void 0===e?void 0:e.missingSectionsCount},targetLanguage:function(t){var e;return null===(e=t.currentSectionSuggestion)||void 0===e?void 0:e.targetLanguage},targetLanguageAutonym:function(t){return t.getAutonym(t.targetLanguage)}}),methods:{onSectionSelectorClick:function(){this.$router.push({name:"sx-section-selector"}),this.$store.dispatch("application/setTranslationURLParams")}}},Ye=Object(g.a)(Xe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-article-selector__body"},[n("existing-article-banner"),n("mw-row",{staticClass:"sx-article-selector__action pt-4 pb-3",attrs:{justify:"center"}},[n("mw-button",{attrs:{large:!0,progressive:!0,disabled:0===t.missingSectionsCount,label:t.actionButtonLabel},on:{click:function(e){return t.onSectionSelectorClick()}}})],1),t.missingSectionsCount?n("mw-row",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-missing-section-stats",value:[t.missingSectionsCount,t.targetLanguageAutonym],expression:"[\n      missingSectionsCount,\n      targetLanguageAutonym\n    ]",arg:"cx-sx-missing-section-stats"}],staticClass:"sx-article-selector__action pb-2 mb-4",attrs:{justify:"center"}}):t._e()],1)}),[],!1,null,null,null).exports,Je={name:"SxArticleLanguageSelector",components:{SxTranslationListLanguageSelector:Qt},mixins:[Gt],computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({supportedLanguageCodes:function(t){return t.mediawiki.supportedLanguageCodes||[]},sourceLanguage:function(t){return t.application.sourceLanguage},targetLanguage:function(t){return t.application.targetLanguage}})),Object(c.c)({currentLanguageTitleGroup:"application/getCurrentLanguageTitleGroup"})),{},{availableSourceLanguages:function(t){var e;return(null===(e=t.currentLanguageTitleGroup)||void 0===e?void 0:e.titles.filter((function(e){return e.lang!==t.targetLanguage})).map((function(e){return t.createLanguageOption(e.lang)})))||[]},targetLanguages:function(t){var e=mw.config.get("wgSectionTranslationTargetLanguage");return(e?[e]:t.supportedLanguageCodes).filter((function(e){return e!==t.sourceLanguage})).reduce((function(e,n){return[].concat(Object(w.a)(e),[t.createLanguageOption(n)])}),[])}}),methods:{createLanguageOption:function(t){return{name:this.getAutonym(t),code:t}},onSourceLanguageSelected:function(t){this.$store.dispatch("application/updateSourceLanguage",t)},onTargetLanguageSelected:function(t){this.$store.dispatch("application/updateTargetLanguage",t)}}},Qe=(n("9bc3"),Object(g.a)(Je,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("sx-translation-list-language-selector",{staticClass:"sx-article-language-selector",attrs:{"source-languages":t.availableSourceLanguages,"target-languages":t.targetLanguages},on:{"source-language-selected":t.onSourceLanguageSelected,"target-language-selected":t.onTargetLanguageSelected}})}),[],!1,null,null,null)).exports,an={name:"SxArticleSelectorHeader",components:{MwRow:o.o,MwCol:o.e,MwIcon:o.i,MwThumbnail:o.q,MwButton:o.b},data:function(){return{mwIconBookmarkOutline:Vt.h,mwIconClose:Vt.j,mwIconLanguage:Vt.s}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({sectionSuggestion:function(t){return t.application.currentSectionSuggestion}})),Object(c.c)({sourceArticle:"application/getCurrentPage"})),{},{sourceTitle:function(t){var e;return null===(e=t.sectionSuggestion)||void 0===e?void 0:e.sourceTitle},sourceArticleThumbnail:function(t){var e;return null===(e=t.sourceArticle)||void 0===e?void 0:e.thumbnail},langLinksCount:function(t){var e;return null===(e=t.sourceArticle)||void 0===e?void 0:e.langLinksCount},weeklyViews:function(t){var e;return Object.values((null===(e=t.sourceArticle)||void 0===e?void 0:e.pageviews)||{}).reduce((function(t,e){return t+e}),0)}})},sn=Object(g.a)(an,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.sourceArticle?n("mw-row",{staticClass:"sx-article-selector__header ma-0 pa-2",attrs:{align:"stretch",justify:"start"}},[n("mw-col",{staticClass:"pe-2",attrs:{shrink:""}},[n("mw-thumbnail",{staticClass:"sx-article-selector__header-thumbnail",attrs:{thumbnail:t.sourceArticleThumbnail,"icon-size":48}})],1),n("mw-col",[n("mw-row",{staticClass:"sx-article-selector__header-title ma-0",attrs:{direction:"column",justify:"between",align:"start"}},[n("mw-col",{staticClass:"pa-0 ma-0",attrs:{tag:"h5"},domProps:{textContent:t._s(t.sourceTitle)}}),n("mw-col",{staticClass:"complementary sx-article-selector__stats ma-0",attrs:{tag:"p",shrink:""}},[n("span",{staticClass:"pe-3"},[n("mw-icon",{attrs:{icon:t.mwIconLanguage}}),t._v(" "+t._s(t.langLinksCount)+" ")],1),n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-article-selector-views-count",value:[t.weeklyViews],expression:"[weeklyViews]",arg:"cx-sx-article-selector-views-count"}]})])],1)],1),n("mw-col",{attrs:{shrink:"",align:"start"}},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:t.mwIconBookmarkOutline}}),n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:t.mwIconClose},on:{click:function(e){return t.$emit("close")}}})],1)],1):t._e()}),[],!1,null,null,null).exports,on=mw.util.getUrl,ln={name:"SxArticleSelector",components:{SxArticleSelectorHeader:sn,MwRow:o.o,SxArticleLanguageSelector:Qe,ExistingArticleBody:Ye},mixins:[Gt],mounted:function(){this.$store.dispatch("application/fetchCurrentSectionSuggestionLanguageTitles")},methods:{onClose:function(){history.replaceState({},document.title,on("Special:ContentTranslation")),this.$router.push({name:"dashboard"})}}},mn={name:"SxArticleSelectorView",components:{SxArticleSelector:(n("3440"),Object(g.a)(ln,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-article-selector"},[n("sx-article-selector-header",{on:{close:t.onClose}}),n("sx-article-language-selector"),n("existing-article-body"),n("mw-row",{staticClass:"sx-article-selector__license ma-0",attrs:{justify:"center"}},[n("p",{staticClass:"pa-3"},[n("small",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:cx-license-agreement",arg:"cx-license-agreement"}]})])])],1)}),[],!1,null,null,null)).exports},computed:{classes:function(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},hn=(n("b7c7"),Object(g.a)(mn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-article-selector-view",class:t.classes},[n("sx-article-selector")],1)}),[],!1,null,null,null)).exports,_n={name:"SxSectionSelectorViewArticleItem",components:{MwRow:o.o,MwButton:o.b},props:{path:{type:String,required:!0},autonym:{type:String,required:!0}},data:function(){return{mwIconLinkExternal:Vt.u}}},Ln=Object(g.a)(_n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-row",{staticClass:"ma-0",attrs:{tag:"li"}},[n("mw-button",{staticClass:"col justify-between py-3 px-4",attrs:{href:t.path,target:"_blank",indicator:t.mwIconLinkExternal,label:t.$i18n("cx-sx-section-selector-view-article-button-label",t.autonym),type:"text",outlined:!1}})],1)}),[],!1,null,null,null).exports,An={name:"SxSectionSelectorHeader",components:{MwRow:o.o,MwCol:o.e,MwButton:o.b},props:{suggestion:{type:V,required:!0}},data:function(){return{mwIconClose:Vt.j}}},Mn=(n("bd9f"),Object(g.a)(An,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sx-section-selector__header pa-4"},[n("mw-row",{staticClass:"ma-0 pb-3"},[n("mw-col",[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-title",arg:"cx-sx-section-selector-title"}],staticClass:"sx-section-selector__header-text ma-0"}),n("h2",{staticClass:"sx-section-selector__title ma-0 py-0",domProps:{textContent:t._s(t.suggestion.sourceTitle)}})]),n("mw-col",{staticClass:"justify-end",attrs:{shrink:""}},[n("mw-button",{staticClass:"pa-0",attrs:{large:!0,type:"icon",icon:t.mwIconClose},on:{click:function(e){return t.$emit("close")}}})],1)],1),n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-subtitle",arg:"cx-sx-section-selector-subtitle"}],staticClass:"pt-0 ma-0"}),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-desc",arg:"cx-sx-section-selector-desc"}],staticClass:"ma-0"})],1)}),[],!1,null,null,null)).exports,Nn={name:"SxSectionSelectorSectionList",components:{MwRow:o.o,MwButton:o.b,MwIcon:o.i},props:{sections:{type:Object,required:!0}},data:function(){return{mwIconArrowForward:Vt.c}}},Dn=Object(g.a)(Nn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"sx-section-selector__sections-list ma-0 pa-0"},t._l(t.sections,(function(e,i){return n("mw-row",{key:i,staticClass:"ma-0",attrs:{tag:"li"}},[n("mw-button",{staticClass:"col justify-between py-3 px-4",attrs:{label:i,type:"text",outlined:!1},on:{click:function(e){return t.$emit("select-section",i)}}},[t._t("default",null,{targetSection:e,sourceSection:i}),n("mw-icon",{staticClass:"mw-ui-button__indicator",attrs:{icon:t.mwIconArrowForward}})],2)],1)})),1)}),[],!1,null,"62d81104",null).exports,Gn={name:"SxSectionSelectorSectionListMissing",components:{SxSectionSelectorSectionList:Dn,MwRow:o.o,MwCol:o.e,MwButton:o.b},mixins:[Gt],props:{suggestion:{type:V,required:!0}},data:function(){return{mwIconArrowForward:Vt.c,sadRobotSVG:n("37fc")}},computed:{targetLanguageAutonym:function(){return this.getAutonym(this.suggestion.targetLanguage)},emptySections:function(){return 0===Object.keys(this.suggestion.missingSections).length}}},Un=(n("39bd"),Object(g.a)(Gn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-section-selector__missing-sections py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-missing-sections-title",value:[t.targetLanguageAutonym],expression:"[\n      targetLanguageAutonym\n    ]",arg:"cx-sx-section-selector-missing-sections-title"}],staticClass:"sx-section-selector__list-title mb-0 pb-0 py-3 px-4"}),t.emptySections?t._e():n("sx-section-selector-section-list",t._g({attrs:{sections:t.suggestion.missingSections},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.sourceSection;return[n("h5",{staticClass:"ma-0",domProps:{textContent:t._s(i)}})]}}],null,!1,4098727704)},t.$listeners)),t.emptySections?n("mw-row",{staticClass:"sx-section-selector__empty-missing-sections px-4 my-0"},[n("mw-col",{staticClass:"py-6 justify-center",domProps:{innerHTML:t._s(t.sadRobotSVG)}}),n("mw-col",{staticClass:"sx-section-selector__empty-missing-sections-details pa-0",attrs:{cols:"12"}},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-title",arg:"cx-sx-section-selector-empty-missing-sections-title"}]})]),n("mw-col",{staticClass:"sx-section-selector__empty-missing-sections-details pa-0 mb-2",attrs:{cols:"12"}},[n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-desc",arg:"cx-sx-section-selector-empty-missing-sections-desc"}]})]),n("mw-col",{staticClass:"pa-0 mb-2",attrs:{cols:"12"}},[n("mw-button",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-pick-other-translation-button-label",arg:"cx-sx-section-selector-pick-other-translation-button-label"}],staticClass:"sx-section-selector__empty-missing-sections__close-button px-0",attrs:{type:"text"},on:{click:function(e){return t.$emit("close")}}})],1)],1):t._e()],1)}),[],!1,null,null,null)).exports,Kn={name:"SxSectionSelectorSectionListPresent",components:{SxSectionSelectorSectionList:Dn},mixins:[Gt],props:{suggestion:{type:V,required:!0}},data:function(){return{mwIconArrowForward:Vt.c}},computed:{targetLanguageAutonym:function(){return this.getAutonym(this.suggestion.targetLanguage)}}},Wn={name:"SxSectionSelector",components:{SxSectionSelectorSectionListPresent:(n("c3e3"),Object(g.a)(Kn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-section-selector__present-sections py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-present-sections-title",value:[t.targetLanguageAutonym],expression:"[\n      targetLanguageAutonym\n    ]",arg:"cx-sx-section-selector-present-sections-title"}],staticClass:"sx-section-selector__list-title mb-0 pb-0 py-3 px-4"}),n("sx-section-selector-section-list",t._g({attrs:{sections:t.suggestion.presentSections},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.sourceSection,a=e.targetSection;return[n("div",{staticClass:"sx-section-selector__present-section-button-content"},[n("h5",{staticClass:"sx-section-selector__present-section-button-source",domProps:{textContent:t._s(i)}}),n("h6",{staticClass:"sx-section-selector__present-section-button-target",domProps:{textContent:t._s(a)}})])]}}])},t.$listeners))],1)}),[],!1,null,null,null)).exports,SxSectionSelectorSectionListMissing:Un,SxSectionSelectorHeader:Mn,SxSectionSelectorViewArticleItem:Ln,MwRow:o.o,MwCol:o.e,MwIcon:o.i,SxArticleLanguageSelector:Qe},mixins:[Gt],data:function(){return{mwIconRobot:Vt.y,mwIconLabFlask:Vt.r}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion}})),{},{sourceLanguageAutonym:function(){return this.getAutonym(this.suggestion.sourceLanguage)},targetLanguageAutonym:function(){return this.getAutonym(this.suggestion.targetLanguage)},sourceArticlePath:function(){return y.getPageUrl(this.suggestion.sourceLanguage,this.suggestion.sourceTitle)},targetArticlePath:function(){return y.getPageUrl(this.suggestion.targetLanguage,this.suggestion.targetTitle)},viewArticleItems:function(){return[{path:this.sourceArticlePath,autonym:this.sourceLanguageAutonym},{path:this.targetArticlePath,autonym:this.targetLanguageAutonym}]}}),methods:{goToArticleSelector:function(){this.$router.push({name:"sx-article-selector"})},selectSection:function(t){this.$store.dispatch("application/selectPageSection",{language:this.suggestion.sourceLanguage,title:this.suggestion.sourceTitle,sectionTitle:t}),this.$router.push({name:"sx-content-comparator"})}}},ii={name:"SxSectionSelectorView",components:{SxSectionSelector:(n("58c6"),Object(g.a)(Wn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-section-selector"},[n("sx-section-selector-header",{attrs:{suggestion:t.suggestion},on:{close:t.goToArticleSelector}}),n("section",{staticClass:"sx-section-selector__body"},[n("sx-article-language-selector"),n("sx-section-selector-section-list-missing",{attrs:{suggestion:t.suggestion},on:{"select-section":t.selectSection,close:t.goToArticleSelector}}),n("sx-section-selector-section-list-present",{attrs:{suggestion:t.suggestion},on:{"select-section":t.selectSection}}),n("section",{staticClass:" py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-more-details-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-more-details-title"}],staticClass:"sx-section-selector__list-title mb-0 pb-0 py-3 px-4"}),n("ul",{staticClass:"ma-0 pa-0"},t._l(t.viewArticleItems,(function(t,e){return n("sx-section-selector-view-article-item",{key:"view-article-item-"+e,attrs:{path:t.path,autonym:t.autonym}})})),1)]),n("mw-row",{staticClass:"sx-section-selector__additional-considerations ma-0"},[n("mw-col",{staticClass:"px-4 pt-5 pb-4",attrs:{cols:"12",md:"6"}},[n("h6",{staticClass:"sx-section-selector__additional-consideration-title"},[n("mw-icon",{staticClass:"pe-2",attrs:{icon:t.mwIconRobot}}),t._v(" "+t._s(t.$i18n("cx-sx-section-selector-automatic-section-matching-title"))+" ")],1),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-automatic-section-matching-description",arg:"cx-sx-section-selector-automatic-section-matching-description"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})]),n("mw-col",{staticClass:"px-4 py-5",attrs:{cols:"12",md:"6"}},[n("h6",{staticClass:"sx-section-selector__additional-consideration-title"},[n("mw-icon",{staticClass:"pe-2",attrs:{icon:t.mwIconLabFlask}}),t._v(" "+t._s(t.$i18n("cx-sx-section-selector-unsupported-sections-title"))+" ")],1),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-unsupported-sections-description",arg:"cx-sx-section-selector-unsupported-sections-description"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})])],1)],1)],1)}),[],!1,null,null,null)).exports},computed:{classes:function(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},ri=(n("4d50"),Object(g.a)(ii,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-section-selector-view",class:t.classes},[n("sx-section-selector")],1)}),[],!1,null,null,null)).exports,di=n("3835"),hi={name:"SxContentComparatorSourceVsTargetSelector",components:{MwButtonGroup:o.c},mixins:[Gt],props:{selection:{type:String,required:!0},isMappedSection:{type:Boolean,required:!0}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion}})),{},{listSelector:function(){var t,e={value:"source_section",props:{label:this.$i18n("cx-sx-content-comparator-source-selector-title",this.getAutonym(this.suggestion.sourceLanguage)),type:"text",class:"px-0 py-4 mx-4"}};switch(!0){case this.isMappedSection:t={value:"target_section",props:{label:this.$i18n("cx-sx-content-comparator-target-selector-target-section-title",this.getAutonym(this.suggestion.targetLanguage)),type:"text",class:"px-0 py-4 mx-4"}};break;default:t={value:"target_article",props:{label:this.$i18n("cx-sx-content-comparator-target-selector-full-article-title",this.getAutonym(this.suggestion.targetLanguage)),type:"text",class:"px-0 py-4 mx-4"}}}return[e,t]}}),watch:{isMappedSection:function(){this.listSelector.map((function(t){return t.value})).includes(this.selection)||this.updateSelection(this.listSelector[0].value)}},methods:{updateSelection:function(t){this.$emit("update:selection",t)},optionClass:function(t){return{"sx-content-comparator__source-target-selector__option--selected":this.selection===t}}}},vi={name:"SxContentComparatorContentHeader",components:{SxContentComparatorSourceVsTargetSelector:(n("cd7f"),Object(g.a)(hi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sx-content-comparator__source-target-selector"},[n("mw-button-group",{attrs:{items:t.listSelector,active:t.selection},on:{select:t.updateSelection}})],1)}),[],!1,null,null,null)).exports,MwRow:o.o,MwCol:o.e,MwButton:o.b},props:{sourceVsTargetSelection:{type:String,required:!0},targetSectionTitle:{type:String,required:!0},isMappedSection:{type:Boolean,required:!0},targetSectionAnchor:{type:String,required:!0}},data:function(){return{mwIconLinkExternal:Vt.u,mwIconEdit:Vt.l,isSticky:!1}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion}})),Object(c.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle",sourceSectionAnchor:"application/getCurrentSourceSectionAnchor"})),{},{activeContentTitle:function(){switch(this.sourceVsTargetSelection){case"source_section":return this.sourceSectionTitle;case"target_article":return this.suggestion.targetTitle;default:return this.targetSectionTitle}},activeContentPath:function(){switch(this.sourceVsTargetSelection){case"source_section":return"".concat(y.getPageUrl(this.suggestion.sourceLanguage,this.suggestion.sourceTitle),"#").concat(this.sourceSectionAnchor);case"target_article":return this.targetArticlePath;default:return"".concat(this.targetArticlePath,"#").concat(this.targetSectionAnchor)}},targetArticlePath:function(){return y.getPageUrl(this.suggestion.targetLanguage,this.suggestion.targetTitle)}}),mounted:function(){var t=this;new IntersectionObserver((function(e){var i=Object(di.a)(e,1)[0];t.isSticky=i.intersectionRect.height<i.boundingClientRect.height}),{threshold:[1]}).observe(this.$refs.contentHeader.$el)},methods:{updateSelection:function(t){this.$emit("update:sourceVsTargetSelection",t)}}},Ci=(n("4550"),Object(g.a)(vi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-row",{ref:"contentHeader",staticClass:"sx-content-comparator__content-header ma-0 pt-1",class:{sticky:t.isSticky},attrs:{direction:"column",align:"stretch",reverse:t.isSticky}},[n("sx-content-comparator-source-vs-target-selector",{attrs:{"is-mapped-section":t.isMappedSection,selection:t.sourceVsTargetSelection},on:{"update:selection":t.updateSelection}}),n("mw-row",{staticClass:"sx-content-comparator__content-header-title mx-4 my-0 pt-4 pb-2",attrs:{justify:"between"}},[n("mw-col",[n("h3",{staticClass:"ma-0 pa-0",domProps:{textContent:t._s(t.activeContentTitle)}})]),n("mw-col",{attrs:{shrink:""}},[t.isSticky?n("mw-button",{attrs:{icon:t.mwIconEdit,progressive:!0,label:t.$i18n("cx-sx-content-comparator-content-header-translate-button-label")},on:{click:function(e){return t.$emit("translation-button-clicked")}}}):n("mw-button",{staticClass:"sx-content-comparator__open-content-link-button pa-0 pe-2",attrs:{icon:t.mwIconLinkExternal,type:"icon",href:t.activeContentPath,target:"_blank"}})],1)],1)],1)}),[],!1,null,null,null)).exports,Oi={name:"SxContentComparatorHeaderNavigation",components:{MwCol:o.e,MwButton:o.b},props:{sectionSourceTitles:{type:Array,required:!0}},data:function(){return{mwIconPrevious:Vt.w,mwIconArrowForward:Vt.c}},computed:Object(s.a)(Object(s.a)({},Object(c.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle"})),{},{currentTitleIndex:function(){return this.sectionSourceTitles.indexOf(this.sourceSectionTitle)}}),methods:{previousSection:function(){var t=(this.currentTitleIndex-1+this.sectionSourceTitles.length)%this.sectionSourceTitles.length;this.$store.dispatch("application/selectPageSection",{sectionTitle:this.sectionSourceTitles[t]})},nextSection:function(){var t=(this.currentTitleIndex+1)%this.sectionSourceTitles.length;this.$store.dispatch("application/selectPageSection",{sectionTitle:this.sectionSourceTitles[t]})}}},Ai=Object(g.a)(Oi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-col",{staticClass:"justify-end",attrs:{align:"center"}},[n("mw-button",{staticClass:"pa-0 pe-1",attrs:{type:"icon",icon:t.mwIconPrevious},on:{click:t.previousSection}}),n("mw-button",{staticClass:"pa-0 ps-1",attrs:{type:"icon",icon:t.mwIconArrowForward},on:{click:t.nextSection}})],1)}),[],!1,null,null,null).exports,Ii={name:"SxContentComparatorHeaderMappedSection",components:{MwRow:o.o,MwCol:o.e,MwButton:o.b},mixins:[Gt],props:{suggestion:{type:V,required:!0},targetSectionTitle:{type:String,required:!0},discardedSections:{type:Array,required:!0}},data:function(){return{mwIconTrash:Vt.C,mwIconUndo:Vt.D}},computed:{isDiscardedSection:function(){return this.discardedSections.includes(this.targetSectionTitle)},mappedSectionHeaderTitle:function(){return this.$i18n("cx-sx-content-comparator-mapped-section-header-title",this.getAutonym(this.suggestion.targetLanguage))}},methods:{discardMapping:function(){this.isDiscardedSection||this.$emit("update:discardedSections",[].concat(Object(w.a)(this.discardedSections),[this.targetSectionTitle]))},undoDiscard:function(){var t=this;this.isDiscardedSection&&this.$emit("update:discardedSections",this.discardedSections.filter((function(e){return e!==t.targetSectionTitle})))}}},Ni={name:"SxContentComparatorHeader",components:{SxContentComparatorHeaderMappedSection:(n("07b6"),Object(g.a)(Ii,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sx-content-comparator-header__mapped-section"},[n("mw-row",{staticClass:"sx-content-comparator-header__mapped-section-header pa-2 ma-0"},[n("mw-col",{attrs:{grow:""}},[n("h6",{staticClass:"sx-content-comparator-header__mapped-section-header-title pa-0 mb-1 ms-1"},[t._v(" "+t._s(t.mappedSectionHeaderTitle)+" "),t.isDiscardedSection?n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-discarded-section-label",arg:"cx-sx-content-comparator-discarded-section-label"}]}):t._e()]),n("h6",{staticClass:"sx-content-comparator-header__mapped-section-target-title pa-0 ms-1",class:{"sx-content-comparator-header__mapped-section-target-title--discarded":t.isDiscardedSection}},[t._v(" "+t._s(t.targetSectionTitle)+" ")])]),n("mw-col",{attrs:{shrink:""}},[t.isDiscardedSection?n("mw-button",{staticClass:"pa-0",attrs:{icon:t.mwIconUndo,type:"icon"},on:{click:t.undoDiscard}}):n("mw-button",{staticClass:"pa-0",attrs:{icon:t.mwIconTrash,type:"icon"},on:{click:t.discardMapping}})],1)],1),t.isDiscardedSection?n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-discarded-section-clarifications",arg:"cx-sx-content-comparator-discarded-section-clarifications"}],staticClass:"sx-content-comparator-header__mapped-section-clarifications pa-3 ma-0 complementary"}):n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-mapped-section-clarifications",arg:"cx-sx-content-comparator-mapped-section-clarifications"}],staticClass:"sx-content-comparator-header__mapped-section-clarifications pa-3 ma-0 complementary"})],1)}),[],!1,null,null,null)).exports,SxContentComparatorHeaderNavigation:Ai,MwButton:o.b,MwCol:o.e,MwRow:o.o,MwIcon:o.i},props:{discardedSections:{type:Array,required:!0}},data:function(){return{mwIconArrowPrevious:Vt.e,mwIconEdit:Vt.l,mwIconEye:Vt.p}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion},sourceSection:function(t){return t.application.currentSourceSection}})),Object(c.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle",isCurrentSectionMissing:"application/isCurrentSourceSectionMissing",isCurrentSectionPresent:"application/isCurrentSourceSectionPresent"})),{},{isCurrentSectionMappedOrDiscarded:function(t){return t.discardedSections.includes(t.activeSectionTargetTitle)},sourceSectionContent:function(t){var e;return null===(e=t.sourceSection)||void 0===e?void 0:e.html},sectionSourceTitles:function(t){return[].concat(Object(w.a)(Object.keys(t.suggestion.missingSections)),Object(w.a)(Object.keys(t.suggestion.presentSections)))},targetSectionTitle:function(t){return t.suggestion.missingSections[t.sourceSectionTitle]||t.suggestion.presentSections[t.sourceSectionTitle]||""}})},Di=(n("3ac3"),Object(g.a)(Ni,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sx-content-comparator__header pa-4"},[n("mw-button",{staticClass:"py-2 pa-0",attrs:{icon:t.mwIconArrowPrevious,label:t.$i18n("cx-sx-content-comparator-back-to-sections-button-label"),type:"text",outlined:!1},on:{click:function(e){return t.$emit("close")}}}),n("mw-row",{staticClass:"my-1 py-2 mx-0"},[n("mw-col",{attrs:{grow:""}},[n("h4",{staticClass:"pa-0 sx-content-comparator-header__article-title"},[t._v(" "+t._s(t.suggestion.sourceTitle)+" ")]),n("h2",{staticClass:"sx-content-comparator-header__section-title pa-0 ma-0"},[t._v(" "+t._s(t.sourceSectionTitle)+" ")])]),n("sx-content-comparator-header-navigation",{attrs:{cols:"2","section-source-titles":t.sectionSourceTitles}}),n("mw-col",{staticClass:"py-2 mb-1",attrs:{cols:"12",sm:"12",md:"4"}},[n("mw-button",{attrs:{icon:t.mwIconEdit,progressive:!0,label:t.$i18n("cx-sx-content-comparator-translation-section-button-label"),disabled:!t.sourceSectionContent},on:{click:function(e){return t.$emit("translation-button-clicked")}}})],1)],1),t.isCurrentSectionMissing?n("mw-row",{staticClass:"sx-content-comparator-header__review-contents mx-0",attrs:{align:"start"}},[n("mw-col",{staticClass:"pe-2",attrs:{shrink:""}},[n("mw-icon",{attrs:{icon:t.mwIconEye}})],1),n("mw-col",{staticClass:"ma-0"},[n("strong",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-review-contents-title",arg:"cx-sx-content-comparator-review-contents-title"}]}),n("br"),n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-review-contents-rest",arg:"cx-sx-content-comparator-review-contents-rest"}]})])],1):t._e(),t.isCurrentSectionPresent?n("sx-content-comparator-header-mapped-section",{attrs:{suggestion:t.suggestion,"target-section-title":t.targetSectionTitle,"discarded-sections":t.discardedSections},on:{"update:discardedSections":function(e){return t.$emit("update:discardedSections",e)}}}):t._e()],1)}),[],!1,null,null,null)).exports,Ui={name:"SxContentComparatorNewSectionPlaceholder",props:{isMappedSection:{type:Boolean,required:!0}},computed:{placeholderTitle:function(){return this.isMappedSection?this.$i18n("cx-sx-content-comparator-present-section-placeholder-title"):this.$i18n("cx-sx-content-comparator-missing-section-placeholder-title")}}},Ki={name:"SxContentComparator",components:{SxContentComparatorNewSectionPlaceholder:Object(g.a)(Ui,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-content-comparator__new-section-placeholder--present mt-4 py-4 px-7"},[n("h5",{domProps:{innerHTML:t._s(t.placeholderTitle)}}),t.isMappedSection?n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-present-section-placeholder-subtitle",arg:"cx-sx-content-comparator-present-section-placeholder-subtitle"}]}):t._e()])}),[],!1,null,null,null).exports,SxContentComparatorHeader:Di,SxContentComparatorContentHeader:Ci,MwSpinner:o.p},data:function(){return{sourceVsTargetSelection:"source_section",discardedSections:[]}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion},sourceSection:function(t){return t.application.currentSourceSection}})),Object(c.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle",isCurrentSectionMissing:"application/isCurrentSourceSectionMissing"})),{},{targetSectionAnchor:function(){var t;return((null===(t=this.targetSection)||void 0===t?void 0:t.title)||"").replace(/ /g,"_")},sourcePage:function(){return this.$store.getters["mediawiki/getPage"](this.suggestion.sourceLanguage,this.suggestion.sourceTitle)},targetPage:function(){return this.$store.getters["mediawiki/getPage"](this.suggestion.targetLanguage,this.targetTitle)},targetPageContent:function(){var t;return null===(t=this.targetPage)||void 0===t?void 0:t.content},targetTitle:function(){return this.suggestion.targetTitle},activeSectionTargetTitle:function(){return this.suggestion.missingSections[this.sourceSectionTitle]||this.suggestion.presentSections[this.sourceSectionTitle]||""},targetSection:function(){return this.$store.getters["mediawiki/getPageSection"](this.targetPage,this.activeSectionTargetTitle)},sourceSectionContent:function(){var t;return null===(t=this.sourceSection)||void 0===t?void 0:t.html},targetSectionContent:function(){var t;return null===(t=this.targetSection)||void 0===t?void 0:t.html},isCurrentSectionMapped:function(){return!this.isCurrentSectionMissing&&!this.isCurrentSectionDiscarded},isCurrentSectionDiscarded:function(){return this.discardedSections.includes(this.activeSectionTargetTitle)}}),watch:{targetTitle:{immediate:!0,handler:function(){this.$store.dispatch("mediawiki/fetchPageContent",{sourceLanguage:this.suggestion.targetLanguage,targetLanguage:this.suggestion.sourceLanguage,sourceTitle:this.targetTitle})}}},methods:{goToSectionSelector:function(){this.$router.push({name:"sx-section-selector"})},translateSection:function(){this.$store.getters["translator/hasSectionTranslations"]()?this.goToSentenceSelector():this.goToTutorial()},goToTutorial:function(){this.$router.push({name:"sx-quick-tutorial"})},goToSentenceSelector:function(){this.$router.push({name:"sx-sentence-selector"})}}},Qi={name:"SxContentComparatorView",components:{SxContentComparator:(n("5aee"),Object(g.a)(Ki,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-content-comparator"},[n("sx-content-comparator-header",{attrs:{"discarded-sections":t.discardedSections},on:{"update:discardedSections":function(e){t.discardedSections=e},"update:discarded-sections":function(e){t.discardedSections=e},"translation-button-clicked":t.translateSection,close:t.goToSectionSelector}}),n("sx-content-comparator-content-header",{attrs:{"source-vs-target-selection":t.sourceVsTargetSelection,"is-mapped-section":t.isCurrentSectionMapped,"target-section-title":t.activeSectionTargetTitle,"target-section-anchor":t.targetSectionAnchor},on:{"update:sourceVsTargetSelection":function(e){t.sourceVsTargetSelection=e},"update:source-vs-target-selection":function(e){t.sourceVsTargetSelection=e},"translation-button-clicked":t.translateSection}}),n("section",{staticClass:"sx-content-comparator__source-content"},["source_section"===t.sourceVsTargetSelection?[t.sourceSectionContent?t._e():n("mw-spinner"),n("section",{staticClass:"pt-2 px-4",domProps:{innerHTML:t._s(t.sourceSectionContent)}})]:"target_article"===t.sourceVsTargetSelection?[t.targetPageContent?t._e():n("mw-spinner"),n("article",{staticClass:"px-4",domProps:{innerHTML:t._s(t.targetPageContent)}}),n("sx-content-comparator-new-section-placeholder",{attrs:{"is-mapped-section":t.isCurrentSectionMapped}})]:[n("section",{staticClass:"pa-4",domProps:{innerHTML:t._s(t.targetSectionContent)}}),n("sx-content-comparator-new-section-placeholder",{attrs:{"is-mapped-section":t.isCurrentSectionMapped}})]],2)],1)}),[],!1,null,null,null)).exports},computed:{classes:function(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},ea=(n("3e4a"),Object(g.a)(Qi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-content-comparator-view",class:t.classes},[n("sx-content-comparator")],1)}),[],!1,null,null,null)).exports,la={name:"SxTranslationSelector",components:{MwCard:o.d,MwButton:o.b,MwDialog:o.f},props:{active:{type:Boolean,required:!0}},data:function(){return{mwIconClose:Vt.j,originalTextProviderKey:C.ORIGINAL_TEXT_PROVIDER_KEY,emptyTextProviderKey:C.EMPTY_TEXT_PROVIDER_KEY}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({sourceLanguage:function(t){var e;return null===(e=t.application.currentSectionSuggestion)||void 0===e?void 0:e.sourceLanguage},targetLanguage:function(t){var e;return null===(e=t.application.currentSectionSuggestion)||void 0===e?void 0:e.targetLanguage},currentPageSection:function(t){return t.application.currentSourceSection},isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation},provider:function(t){return t.application.currentMTProvider}})),Object(c.c)({selectedSentence:"application/getCurrentSelectedSentence"})),{},{mtProviders:function(){return this.$store.getters["mediawiki/getSupportedMTProviders"](this.sourceLanguage,this.targetLanguage)},apiMtProviders:function(){var t=[this.originalTextProviderKey,this.emptyTextProviderKey];return this.mtProviders.filter((function(e){return!t.includes(e)}))},proposedTranslations:function(t){return t.isSectionTitleSelected?t.currentPageSection.proposedTitleTranslations:t.selectedSentence.proposedTranslations},originalContent:function(t){var e;return null===(e=t.currentPageSection)||void 0===e?void 0:e.proposedTitleTranslations[t.selectedProvider]}}),methods:{close:function(){this.$emit("update:active",!1)},selectProvider:function(t){this.$store.dispatch("application/updateMTProvider",{provider:t}),this.close()}}},ga=(n("542a"),Object(g.a)(la,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.active?n("mw-dialog",{staticClass:"sx-sentence-selector__translation-options",attrs:{fullscreen:""}},[n("template",{slot:"header"},[n("div",{staticClass:"mw-ui-dialog__header pa-4"},[n("div",{staticClass:"row ma-0 py-2"},[n("div",{staticClass:"col grow items-center mw-ui-dialog__header-title justify-start pe-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-header-title",arg:"cx-sx-sentence-selector-translation-options-header-title"}],staticClass:"mb-0"})]),n("div",{staticClass:"col shrink justify-center"},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:t.mwIconClose},on:{click:t.close}})],1)]),n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-header-text",arg:"cx-sx-sentence-selector-translation-options-header-text"}],staticClass:"pb-2 mb-0"})])]),n("mw-card",{staticClass:"sx-sentence-selector__mt-provider-option-card mx-4 pa-5",attrs:{role:"button"},nativeOn:{click:function(e){return t.selectProvider(t.originalTextProviderKey)}}},[n("template",{slot:"header"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-original-card-title",arg:"cx-sx-sentence-selector-translation-options-original-card-title"}],staticClass:"sx-sentence-selector__translation-options-card-title mb-4"})]),n("p",{domProps:{innerHTML:t._s(t.proposedTranslations[t.originalTextProviderKey])}})],2),t._l(t.apiMtProviders,(function(e){return n("mw-card",{key:e,staticClass:"sx-sentence-selector__mt-provider-option-card mx-4 pa-5",attrs:{role:"button"},nativeOn:{click:function(n){return t.selectProvider(e)}}},[n("template",{slot:"header"},[n("h5",{staticClass:"sx-sentence-selector__translation-options-card-title mb-4",domProps:{textContent:t._s(e)}})]),n("p",{domProps:{innerHTML:t._s(t.proposedTranslations[e])}})],2)})),n("mw-card",{staticClass:"sx-sentence-selector__mt-provider-option-card mx-4 pa-5",attrs:{role:"button"},nativeOn:{click:function(e){return t.selectProvider(t.emptyTextProviderKey)}}},[n("template",{slot:"header"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-empty-card-title",arg:"cx-sx-sentence-selector-translation-options-empty-card-title"}],staticClass:"sx-sentence-selector__translation-options-card-title mb-4"})]),n("p",{staticClass:"sx-sentence-selector__empty-sentence-option__cursor"},[t._v("|")])],2)],2):t._e()}),[],!1,null,null,null)).exports,fa={name:"SxSentenceSelectorContentHeader",components:{MwIcon:o.i,MwCol:o.e},data:function(){return{mwIconLinkExternal:Vt.u,titleClass:"sx-sentence-selector__section-title"}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion},currentPageSection:function(t){return t.application.currentSourceSection},isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation}})),{},{sourceSectionTitle:function(t){var e;return null===(e=t.currentPageSection)||void 0===e?void 0:e.title},sourceArticlePath:function(t){return y.getPageUrl(t.suggestion.sourceLanguage,t.suggestion.sourceTitle)},isSectionTitleTranslated:function(t){var e;return!(null===(e=t.currentPageSection)||void 0===e||!e.translatedTitle)},highLightClassPostfix:function(t){return t.isSectionTitleTranslated?"translated":"selected"},titleClasses:function(t){var e=[t.titleClass];return t.isSectionTitleSelected&&e.push("".concat(t.titleClass,"--").concat(t.highLightClassPostfix)),e}}),methods:Object(s.a)({},Object(c.b)({selectSectionTitle:"application/selectSectionTitleForTranslation"}))},Sa=(n("d5b5"),Object(g.a)(fa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-col",{staticClass:"sx-sentence-selector__section-header pa-5",attrs:{shrink:""}},[n("a",{staticClass:"sx-sentence-selector__section-article-title mb-1",attrs:{href:t.sourceArticlePath,target:"_blank"}},[n("strong",{domProps:{textContent:t._s(t.suggestion.sourceTitle)}}),n("mw-icon",{staticClass:"ms-1",attrs:{icon:t.mwIconLinkExternal,size:"12"}})],1),n("h2",{staticClass:"pa-0 ma-0",class:t.titleClasses,domProps:{innerHTML:t._s(t.sourceSectionTitle)},on:{click:t.selectSectionTitle}})])}),[],!1,null,null,null)).exports,Ta={name:"ProposedTranslationActionButtons",components:{MwRow:o.o,MwButton:o.b},data:function(){return{mwIconPrevious:Vt.w,mwIconArrowForward:Vt.c}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation}})),Object(c.c)({isLastSentence:"application/isCurrentSentenceLast",proposedTranslation:"application/getCurrentProposedTranslation"}))},ya=(n("6c2a"),Object(g.a)(Ta,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-row",{staticClass:"sx-sentence-selector__translation-action-buttons ma-0"},[n("mw-button",{staticClass:"sx-sentence-selector__previous-sentence-button col shrink pa-4",attrs:{icon:t.mwIconPrevious,type:"icon",disabled:t.isSectionTitleSelected},on:{click:function(e){return t.$emit("select-previous-segment")}}}),n("mw-button",{staticClass:"sx-sentence-selector__apply-translation-button col grow pa-4",attrs:{type:"text",label:t.$i18n("cx-sx-sentence-selector-apply-translation-button-label"),disabled:!t.proposedTranslation},on:{click:function(e){return t.$emit("apply-translation")}}}),n("mw-button",{staticClass:"sx-sentence-selector__skip-translation-button col shrink pa-4",attrs:{type:"text",indicator:t.mwIconArrowForward,label:t.$i18n("cx-sx-sentence-selector-skip-translation-button-label"),disabled:t.isLastSentence},on:{click:function(e){return t.$emit("skip-translation")}}})],1)}),[],!1,null,null,null)).exports,Pa={name:"ProposedTranslationHeader",components:{MwRow:o.o,MwCol:o.e,MwButton:o.b},data:function(){return{mwIconEllipsis:Vt.m}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({mtProvider:function(t){return t.application.currentMTProvider}})),{},{extraMTOptionLabels:function(t){var e;return e={},Object(it.a)(e,C.ORIGINAL_TEXT_PROVIDER_KEY,t.$i18n("cx-sx-sentence-selector-translation-options-original-card-title")),Object(it.a)(e,C.EMPTY_TEXT_PROVIDER_KEY,t.$i18n("cx-sx-sentence-selector-translation-options-empty-card-title")),e},mtOptionLabel:function(t){return t.extraMTOptionLabels[t.mtProvider]||t.$i18n("cx-sx-sentence-selector-suggested-translation-title",t.mtProvider)}})},ja=(n("34e5"),Object(g.a)(Pa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-col",{staticClass:"sx-sentence-selector__proposed-translation__header pt-5 shrink"},[n("mw-row",{staticClass:"ma-0 ps-5 pb-4"},[n("mw-col",{staticClass:"sx-sentence-selector__proposed-translation__header-title pa-0 ma-0 pe-4",attrs:{tag:"h6",grow:""},domProps:{textContent:t._s(t.mtOptionLabel)}}),n("mw-col",{staticClass:"pe-5",attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-sentence-selector__proposed-translation__header-settings-button pa-0",attrs:{icon:t.mwIconEllipsis,type:"icon"},on:{click:function(e){return t.$emit("configure-options")}}})],1)],1)],1)}),[],!1,null,null,null)).exports,Ea={name:"ProposedTranslationCard",components:{MwSpinner:o.p,MwCard:o.d,ProposedTranslationHeader:ja,MwRow:o.o,MwCol:o.e,MwButton:o.b,ProposedTranslationActionButtons:ya},data:function(){return{mwIconEllipsis:Vt.m,mwIconEdit:Vt.l,headerAndFooterHeight:0}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({mtProvider:function(t){return t.application.currentMTProvider}})),Object(c.c)({proposedTranslation:"application/getCurrentProposedTranslation"})),{},{proposedTranslation:function(t){return t.$store.getters["application/getCurrentProposedTranslation"]},contentsStyle:function(t){return{"max-height":"calc(100% - ".concat(t.headerAndFooterHeight,"px)")}},hasProposedTranslation:function(t){return!!t.proposedTranslation||t.mtProvider===C.EMPTY_TEXT_PROVIDER_KEY}}),mounted:function(){var t=this;this.$nextTick((function(){t.headerAndFooterHeight=t.$refs.header.$el.clientHeight+t.$refs.footer.$el.clientHeight}))}},$a=(n("804d"),Object(g.a)(Ea,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-card",{staticClass:"sx-sentence-selector__proposed-translation col shrink pa-0"},[n("mw-row",{staticClass:"ma-0 no-wrap fill-height",attrs:{direction:"column",align:"start"}},[n("proposed-translation-header",t._g({ref:"header"},t.$listeners)),n("mw-col",{staticClass:"sx-sentence-selector__proposed-translation__contents px-5",class:{"sx-sentence-selector__proposed-translation__contents--empty":!t.hasProposedTranslation},style:t.contentsStyle},[t.hasProposedTranslation?n("section",{domProps:{innerHTML:t._s(t.proposedTranslation)}}):n("mw-spinner")],1),n("mw-col",{ref:"footer",staticClass:"sx-sentence-selector__proposed-translation__footer",attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-sentence-selector__proposed-translation-edit-button pa-5 pt-4",attrs:{icon:t.mwIconEdit,type:"text",label:t.$i18n("cx-sx-sentence-selector-edit-translation-button-label"),progressive:"",disabled:!t.hasProposedTranslation},on:{click:function(e){return t.$emit("edit-translation",t.proposedTranslation)}}}),n("proposed-translation-action-buttons",t._g({},t.$listeners))],1)],1)],1)}),[],!1,null,null,null)).exports,Na="sx-sentence-selector__section-sentence",Da={name:"SubSection",props:{subSection:{type:ct,required:!0}},computed:{content:function(){var t=this,e=this.subSection.node.cloneNode(!0);return Array.from(e.getElementsByClassName("cx-segment")).forEach((function(e){var n,i=t.subSection.getSentenceById(e.dataset.segmentid);e.classList.add(Na,"py-1","me-1");var a=["untranslated","translated","selected"].map((function(t){return"".concat(Na,"--").concat(t)}));(n=e.classList).remove.apply(n,Object(w.a)(a)),i.selected&&e.classList.add("".concat(Na,"--selected"));var r=i.isTranslated?"translated":"untranslated";e.classList.add("".concat(Na,"--").concat(r)),e.innerHTML=i.content})),e.innerHTML}},mounted:function(){var t=this;this.$refs.subSectionRoot.addEventListener("click",(function(e){e.target.classList.contains("cx-segment")&&t.selectSentence(e.target.dataset.segmentid)}))},methods:{selectSentence:function(t){this.subSection.getSentenceById(t).selected?this.$emit("bounce-translation"):this.$store.dispatch("application/selectSentenceForCurrentSection",{id:t})}}},Ga=(n("bc1b"),Object(g.a)(Da,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"subSectionRoot",domProps:{innerHTML:t._s(t.content)}})}),[],!1,null,null,null)).exports,qa={name:"VisualEditor",props:{content:{type:String,required:!0},language:{type:String,required:!0},dir:{type:String,default:"auto"}},data:function(){return{veTarget:null,veSurface:null}},computed:{editedContent:function(){return this.veSurface.getHtml()},editable:function(){return!0},editorConfig:function(){return{placeholder:!1,log:console.log,sectionId:0,onBack:this.closeEditor,onNext:this.onNext,language:this.language,siteMapper:new mw.cx.SiteMapper}}},mounted:function(){var t=this;za().then((function(){OO.ui.isMobile=function(){return!0},mw.libs.ve.targetLoader.loadModules("visual").then((function(){n("45dd"),n("9c2c"),n("0651"),n("3634");var e=n("85be"),i=t.getVEOverlay(),a=t.editorConfig;t.veTarget=new e(i,a),t.onTargetReady()}))}))},methods:{init:function(){this.$refs.sxeditor.appendChild(this.veTarget.$element[0]),this.veTarget.clearSurfaces();var t=ve.dm.converter.getModelFromDom(ve.createDocumentFromHtml(this.content||"<span class='sx-edit-dummy-node' />"),{lang:this.language,dir:this.dir});this.veSurface=this.veTarget.createSurface(t),this.veTarget.surfaces.push(this.veSurface),this.veTarget.setSurface(this.veSurface),this.veSurface.initialize()},getVEOverlay:function(){var t=this.$refs.sxeditor;return t.$el=$(this.$refs.sxeditor),t},onTargetReady:function(){this.$emit("ready"),this.init()},closeEditor:function(){this.veSurface.destroy(),this.$emit("close")},onNext:function(){this.$emit("edit-completed",this.editedContent),this.veSurface.destroy()}}},Ka=(n("fe49"),Object(g.a)(qa,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"sxeditor",staticClass:"visual-editor"},[t._m(0),n("div",{staticClass:"surface pa-5",attrs:{lang:t.language,dir:t.dir}})])}),[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"overlay-header header initial-header"},[n("div",{staticClass:"toolbar"})])}],!1,null,null,null)).exports;function za(){return mw.loader.using(["ext.visualEditor.targetLoader","ext.visualEditor.mobileArticleTarget"])}var er={name:"TranslatedSegmentCardHeader",components:{MwButtonGroup:o.c},props:{selection:{type:String,required:!0}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation}})),{},{scopeOptions:function(t){return[{value:"sentence",props:{label:t.$i18n("cx-sx-sentence-selector-translated-segment-sentence-option"),type:"text",class:"px-0 py-4 mx-4"}},{value:"paragraph",props:{label:t.$i18n("cx-sx-sentence-selector-translated-segment-paragraph-option"),type:"text",class:"px-0 py-4 mx-4",disabled:t.isSectionTitleSelected}}]}}),methods:{updateSelection:function(t){this.$emit("update:selection",t)}}},ir=(n("4afe"),Object(g.a)(er,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"translated-segment-card-header"},[n("mw-button-group",{attrs:{items:t.scopeOptions,active:t.selection},on:{select:t.updateSelection}})],1)}),[],!1,null,null,null)).exports,or={name:"TranslatedSegmentCardActionButtons",components:{MwRow:o.o,MwButton:o.b},data:function(){return{mwIconPrevious:Vt.w,mwIconArrowForward:Vt.c}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation}})),Object(c.c)({isLastSentence:"application/isCurrentSentenceLast"}))},lr=Object(g.a)(or,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-row",{staticClass:"sx-sentence-selector__translation-action-buttons ma-0"},[n("mw-button",{staticClass:"sx-sentence-selector__previous-sentence-button col pa-4",attrs:{icon:t.mwIconPrevious,type:"icon",disabled:t.isSectionTitleSelected},on:{click:function(e){return t.$emit("select-previous-segment")}}}),n("mw-button",{staticClass:"sx-sentence-selector__skip-translation-button col pa-4 items-start",attrs:{type:"icon",icon:t.mwIconArrowForward,disabled:t.isLastSentence},on:{click:function(e){return t.$emit("skip-translation")}}})],1)}),[],!1,null,null,null).exports,ur=n("4eb6"),gr=n.n(ur),pr=[{status:"error",value:0},{status:"warning",value:30},{status:"success",value:100}],hr=function(t){var e=document.createElement("div");return e.innerHTML=t,e},Sr_calculateScore=function(t,e){var n=hr(t).innerText,i=hr(e).innerText,a=gr.a.get(n,i);return i.length?Math.ceil(a/i.length*100):100},Sr_getScoreStatus=function(t){return pr.find((function(e){return t<=e.value})).status},xr={name:"TranslatedSegmentCard",components:{TranslatedSegmentCardActionButtons:lr,MwProgressBar:o.l,MwIcon:o.i,TranslatedSegmentCardHeader:ir,MwCard:o.d,MwRow:o.o,MwCol:o.e,MwButton:o.b},data:function(){return{mwIconEllipsis:Vt.m,mwIconEdit:Vt.l,mwIconRobot:Vt.y,mwIconUserAvatar:Vt.E,scopeSelection:"sentence"}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({mtProvider:function(t){return t.application.currentMTProvider},isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation},currentPageSection:function(t){return t.application.currentSourceSection}})),Object(c.c)({selectedSentence:"application/getCurrentSelectedSentence",mtTranslation:"application/getCurrentProposedTranslation"})),{},{showSentenceTab:function(t){return"sentence"===t.scopeSelection},currentSubSection:function(t){return t.currentPageSection.subSections.find((function(e){return e.sentences.some((function(e){return e.id===t.selectedSentence.id}))}))},proposedMTTranslation:function(t){return t.showSentenceTab?t.mtTranslation:t.currentSubSection.getProposedTranslation(t.mtProvider)},progressBarBackgroundColor:function(t){return t.$mwui.colors.base80},errorColor:function(t){return t.$mwui.colors.red50},userIconColor:function(t){return t.iconColors[t.modificationStatus]},mtScore:function(t){return Sr_calculateScore(t.translation,t.proposedMTTranslation)},translation:function(t){return t.isSectionTitleSelected?t.currentPageSection.translatedTitle:t.showSentenceTab?t.selectedSentence.translatedContent:t.currentSubSection.translatedContent},modificationStatus:function(t){return Sr_getScoreStatus(t.mtScore)},modificationPercentageClass:function(t){return"translated-segment-card__modification-stats__percentage--".concat(t.modificationStatus)},iconColors:function(t){return{error:null,warning:t.$mwui.colors.yellow30,success:t.$mwui.colors.green30}}})},Tr={name:"SxSentenceSelector",components:{TranslatedSegmentCard:(n("391f"),Object(g.a)(xr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-card",{staticClass:"translated-segment-card col shrink pa-0 mb-0"},[n("mw-row",{staticClass:"ma-0 no-wrap fill-height",attrs:{direction:"column",align:"start"}},[n("translated-segment-card-header",{attrs:{selection:t.scopeSelection},on:{"update:selection":function(e){t.scopeSelection=e}}}),n("mw-col",{staticClass:"translated-segment-card__body pa-5",attrs:{tag:"section"}},[n("mw-row",{staticClass:"ma-0"},[n("mw-col",{staticClass:"translated-segment-card__modification-stats",attrs:{grow:""}},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translated-segment-modification-percentage-header",arg:"cx-sx-sentence-selector-translated-segment-modification-percentage-header"}]}),"error"===t.modificationStatus?n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translated-segment-no-edits-label",arg:"cx-sx-sentence-selector-translated-segment-no-edits-label"}],style:{color:t.errorColor}}):n("p",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:cx-sx-sentence-selector-translated-segment-modification-percentage",value:[t.mtScore],expression:"[\n              mtScore\n            ]",arg:"cx-sx-sentence-selector-translated-segment-modification-percentage"}],class:t.modificationPercentageClass})]),n("mw-col",{staticClass:"translated-segment-card__animated-stats",attrs:{shrink:""}},[n("mw-row",{staticClass:"ma-0 ms-2"},[n("mw-col",{attrs:{shrink:"",align:"center"}},[n("mw-icon",{attrs:{icon:t.mwIconUserAvatar,"icon-color":t.userIconColor}})],1),n("mw-col",{staticClass:"px-3",attrs:{shrink:""}},[n("mw-progress-bar",{attrs:{value:t.mtScore,height:"4px",width:"64px",color:t.userIconColor,background:t.progressBarBackgroundColor}})],1),n("mw-col",{attrs:{shrink:""}},[n("mw-icon",{attrs:{icon:t.mwIconRobot}})],1)],1)],1)],1),t.showSentenceTab?n("mw-button",{staticClass:"sx-sentence-selector__proposed-translation-edit-button pa-0 mt-4",attrs:{icon:t.mwIconEdit,type:"text",label:t.$i18n("cx-sx-sentence-selector-edit-translation-button-label"),progressive:""},on:{click:function(e){return t.$emit("edit-translation",t.translation)}}}):t._e()],1),n("mw-col",{staticClass:"translated-segment-card__actions"},[n("translated-segment-card-action-buttons",t._g({},t.$listeners))],1)],1)],1)}),[],!1,null,null,null)).exports,ProposedTranslationCard:$a,SubSection:Ga,SxSentenceSelectorContentHeader:Sa,MwRow:o.o,MwCol:o.e,SxTranslationSelector:ga,MwButton:o.b},data:function(){return{mwIconArrowPrevious:Vt.e,translation:null,isTranslationOptionsActive:!1,shouldProposedTranslationBounce:!1,screenHeight:"100%"}},computed:Object(s.a)(Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion},currentPageSection:function(t){return t.application.currentSourceSection},isSectionTitleSelected:function(t){return t.application.isSectionTitleSelectedForTranslation},selectedProvider:function(t){return t.application.currentMTProvider}})),Object(c.c)({selectedSentence:"application/getCurrentSelectedSentence",isSelectedSegmentTranslated:"application/isSelectedSegmentTranslated"})),{},{subSections:function(t){var e;return null===(e=t.currentPageSection)||void 0===e?void 0:e.subSections},sourcePage:function(t){return t.$store.getters["mediawiki/getPage"](t.suggestion.sourceLanguage,t.suggestion.sourceTitle)},originalSegmentContent:function(t){return t.isSectionTitleSelected?t.currentPageSection.originalTitle:t.selectedSentence.originalContent},sentenceSelectorStyle:function(t){return{height:isNaN(t.screenHeight)?t.screenHeight:"".concat(t.screenHeight,"px")}}}),mounted:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("application/initializeMTProviders");case 2:t.$store.dispatch("application/selectInitialTranslationSegment"),t.screenHeight=window.innerHeight,za();case 5:case"end":return e.stop()}}),e)})))()},methods:Object(s.a)(Object(s.a)({},Object(c.b)({skipTranslation:"application/selectNextSentence",selectPreviousSegment:"application/selectPreviousSegment"})),{},{applyTranslation:function(){this.$store.dispatch("application/applyProposedTranslationToSelectedSegment")},bounceTranslation:function(){var t=this;this.shouldProposedTranslationBounce=!0,setTimeout((function(){t.shouldProposedTranslationBounce=!1}),100)},goToContentComparator:function(){this.$router.push({name:"sx-content-comparator"})},configureTranslationOptions:function(){this.isTranslationOptionsActive=!0,this.$store.dispatch("application/translateSegmentForAllProviders")},editTranslation:function(t){this.$router.push({name:"sx-editor",params:{content:t,language:this.suggestion.targetLanguage,originalContent:this.originalSegmentContent}})},previewTranslation:function(){this.$router.push({name:"sx-publisher"})}})},Or={name:"SxSentenceSelectorView",components:{SxSentenceSelector:(n("83f9"),Object(g.a)(Tr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-sentence-selector fill-height column ma-0 no-wrap",style:t.sentenceSelectorStyle},[n("mw-row",{staticClass:"sx-sentence-selector__header ma-0 py-2"},[n("mw-col",{attrs:{shrink:""}},[n("mw-button",{staticClass:"px-3",attrs:{type:"icon",icon:t.mwIconArrowPrevious},on:{click:t.goToContentComparator}})],1),n("mw-col",{staticClass:"px-1",attrs:{grow:""}},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-header-title",arg:"cx-sx-sentence-selector-header-title"}],staticClass:"sx-sentence-selector__header-title"})]),n("mw-col",{staticClass:"px-3",attrs:{shrink:""}},[n("mw-button",{attrs:{label:t.$i18n("cx-sx-sentence-selector-done-button-label"),disabled:!t.currentPageSection.isTranslated},on:{click:t.previewTranslation}})],1)],1),n("mw-row",{staticClass:"sx-sentence-selector__body fill-height ma-0",attrs:{tag:"section",direction:"column",align:"start",justify:"between"}},[n("mw-col",{staticClass:"sx-sentence-selector__section"},[n("sx-sentence-selector-content-header"),n("div",{staticClass:"sx-sentence-selector__section-contents px-4"},t._l(t.subSections,(function(e){return n("sub-section",{key:"sub-section-"+e.id,attrs:{id:e.id,"sub-section":e},on:{"bounce-translation":t.bounceTranslation}})})),1)],1),t.isSelectedSegmentTranslated?n("translated-segment-card",{on:{"edit-translation":t.editTranslation,"skip-translation":t.skipTranslation,"select-previous-segment":t.selectPreviousSegment}}):n("proposed-translation-card",{class:{"mb-0":!t.shouldProposedTranslationBounce},on:{"configure-options":t.configureTranslationOptions,"edit-translation":t.editTranslation,"apply-translation":t.applyTranslation,"skip-translation":t.skipTranslation,"select-previous-segment":t.selectPreviousSegment}})],1),n("sx-translation-selector",{attrs:{active:t.isTranslationOptionsActive},on:{"update:active":function(e){t.isTranslationOptionsActive=e}}})],1)}),[],!1,null,null,null)).exports},computed:{classes:function(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},Ar=(n("f767"),Object(g.a)(Or,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-sentence-selector-view",class:t.classes},[n("sx-sentence-selector")],1)}),[],!1,null,null,null)).exports,Rr={name:"SxQuickTutorial",components:{MwButton:o.b,MwRow:o.o},data:function(){return{mwIconArrowForward:Vt.c,totalSteps:2,activeStep:1,tutorialSvgMT:n("e1b0"),tutorialSvgSections:n("c69b")}},methods:{goToNextStep:function(){this.activeStep<this.totalSteps&&this.activeStep++},isActiveStep:function(t){return t===this.activeStep},completeTutorial:function(){this.$router.push({name:"sx-sentence-selector"})}}},Hr={name:"SxContentComparatorView",components:{SxQuickTutorial:(n("7fc4"),Object(g.a)(Rr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-quick-tutorial"},[n("mw-row",{staticClass:"sx-quick-tutorial__body-container ma-0",attrs:{direction:"column"}},[n("section",{staticClass:"sx-quick-tutorial__main-point py-9 px-6"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isActiveStep(1)?n("h2",{directives:[{name:"i18n",rawName:"v-i18n:sx-quick-tutorial-main-point-step-1",arg:"sx-quick-tutorial-main-point-step-1"}],key:"main-point-1",staticClass:"ma-0 pa-0"}):t._e(),t.isActiveStep(2)?n("h2",{directives:[{name:"i18n",rawName:"v-i18n:sx-quick-tutorial-main-point-step-2",arg:"sx-quick-tutorial-main-point-step-2"}],key:"main-point-2",staticClass:"ma-0 pa-0"}):t._e()])],1),n("section",{staticClass:"sx-quick-tutorial__illustration"},[n("transition",{attrs:{name:"mw-ui-animation-slide-left"}},[t.isActiveStep(1)?n("div",{key:"illustration-1",domProps:{innerHTML:t._s(t.tutorialSvgSections)}}):t._e(),t.isActiveStep(2)?n("div",{key:"illustration-2",domProps:{innerHTML:t._s(t.tutorialSvgMT)}}):t._e()])],1),n("div",{staticClass:"sx-quick-tutorial__step-indicator py-3"},t._l(t.totalSteps,(function(e){return n("span",{key:"dot-"+e,staticClass:"dot mx-1",class:{"dot-active":t.isActiveStep(e)},attrs:{role:"button"},on:{click:function(n){t.activeStep=e}}})})),0),n("section",{staticClass:"sx-quick-tutorial__secondary-point py-4 px-6"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isActiveStep(1)?n("h3",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:sx-quick-tutorial-secondary-point-step-1",arg:"sx-quick-tutorial-secondary-point-step-1"}],key:"secondary-point-1",staticClass:"ma-0"}):t._e(),t.isActiveStep(2)?n("h3",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:sx-quick-tutorial-secondary-point-step-2",arg:"sx-quick-tutorial-secondary-point-step-2"}],key:"secondary-point-2",staticClass:"ma-0"}):t._e()])],1),n("div",{staticClass:"sx-quick-tutorial__action-button pt-4 pb-6"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isActiveStep(1)?n("mw-button",{key:"quick-tutorial-action-button-1",staticClass:"px-8 mx-4",attrs:{icon:t.mwIconArrowForward,progressive:!0},on:{click:t.goToNextStep}}):t._e(),t.isActiveStep(2)?n("mw-button",{key:"quick-tutorial-action-button-2",staticClass:"mx-4",attrs:{label:t.$i18n("sx-quick-tutorial-translate-button-label"),progressive:!0},on:{click:t.completeTutorial}}):t._e()],1)],1)])],1)}),[],!1,null,null,null)).exports},computed:{classes:function(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},Vr=(n("c5a8"),Object(g.a)(Hr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-quick-tutorial-view",class:t.classes},[n("sx-quick-tutorial")],1)}),[],!1,null,null,null)).exports,Jr={name:"SxEditorOriginalContent",components:{MwButton:o.b,MwCol:o.e,MwRow:o.o},props:{originalContent:{type:String,required:!0}},data:function(){return{mwIconCollapse:Vt.k,mwIconExpand:Vt.o,originalContentCollapsed:!0,originalContentSegmentIndex:0,originalContentScrollHeight:0,originalContentLineHeight:0,dragStartHeight:0,dragStartY:0,dragIndicatorClickDisabled:!1,isDrawing:!1}},computed:{originalContentLinesLength:function(){return Math.round(this.originalContentScrollHeight/this.originalContentLineHeight)},isOriginalContentScrolledToEnd:function(){var t=Math.ceil(this.originalContentLinesLength/2);return this.originalContentSegmentIndex===t-1}},mounted:function(){var t=this;this.$nextTick((function(){t.originalContentScrollHeight=t.$refs.originalContent.scrollHeight,t.originalContentLineHeight=parseFloat(document.defaultView.getComputedStyle(t.$refs.originalContent,null).getPropertyValue("line-height"))})),this.$refs.dragIndicator.addEventListener("pointerdown",this.initiateDrag,!1)},methods:{onDragIndicatorClick:function(){this.dragIndicatorClickDisabled||this.toggleOriginalContent()},toggleOriginalContent:function(){this.$refs.originalContent.style.removeProperty("height"),this.originalContentCollapsed=!this.originalContentCollapsed,this.originalContentCollapsed&&(this.originalContentSegmentIndex=0,this.scrollOriginalSentence())},nextOriginalSentenceSegment:function(){this.originalContentSegmentIndex++,this.scrollOriginalSentence()},handleArrowUpClick:function(){this.originalContentCollapsed?(this.originalContentSegmentIndex--,this.scrollOriginalSentence()):this.toggleOriginalContent()},scrollOriginalSentence:function(){var t=this.originalContentSegmentIndex*this.originalContentLineHeight*2;this.$refs.originalContent.scroll(0,t)},initiateDrag:function(t){this.dragIndicatorClickDisabled=!1,this.dragStartY=t.clientY,this.dragStartHeight=parseInt(document.defaultView.getComputedStyle(this.$refs.originalContent).height,10),document.documentElement.addEventListener("pointermove",this.doDrag,!1),document.documentElement.addEventListener("pointerup",this.completeDrag,!1)},doDrag:function(t){this.dragIndicatorClickDisabled=!0,this.originalContentCollapsed=!1,this.$refs.originalContent.style.height=this.dragStartHeight+t.clientY-this.dragStartY+"px"},completeDrag:function(){document.documentElement.removeEventListener("pointermove",this.doDrag,!1),document.documentElement.removeEventListener("pointerup",this.completeDrag,!1)}}},es={name:"SxEditor",components:{SxEditorOriginalContent:(n("99a9"),Object(g.a)(Jr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"px-4 pt-3 pb-2 sx-editor__original-sentence-panel"},[n("mw-row",{staticClass:"ma-0"},[n("mw-col",{attrs:{grow:""}},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-editor-original-panel-label",arg:"cx-sx-editor-original-panel-label"}],staticClass:"sx-editor__original-sentence-panel__header mb-2"}),n("div",{ref:"originalContent",staticClass:"sx-editor__original-sentence-panel__content mb-5",class:{"sx-editor__original-sentence-panel__content--collapsed":t.originalContentCollapsed},domProps:{innerHTML:t._s(t.originalContent)}})]),n("mw-col",{staticClass:"ps-3",attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-editor__original-sentence__pagination-control pa-0",attrs:{type:"icon",icon:t.mwIconCollapse,disabled:t.originalContentCollapsed&&0===t.originalContentSegmentIndex},on:{click:t.handleArrowUpClick}}),t.originalContentCollapsed?n("mw-button",{staticClass:"sx-editor__original-sentence__pagination-control pa-0 mt-5",attrs:{type:"icon",icon:t.mwIconExpand,disabled:t.isOriginalContentScrolledToEnd},on:{click:t.nextOriginalSentenceSegment}}):t._e()],1)],1),n("div",{ref:"dragIndicator",staticClass:"sx-editor__drag-indicator"},[n("span",{staticClass:"sx-editor__drag-indicator__icon",on:{click:t.onDragIndicatorClick}})])],1)}),[],!1,null,null,null)).exports,VisualEditor:Ka,MwSpinner:o.p},props:{fromRoute:{type:String,required:!0}},data:function(){return{editorReady:!1}},computed:{content:function(t){return t.$route.params.content},language:function(t){return t.$route.params.language},originalContent:function(t){return t.$route.params.originalContent},isFinal:function(t){return!!t.$route.params.isFinalEdit}},methods:{onEditorReady:function(){this.editorReady=!0},closeEditor:function(){this.$router.replace({name:this.fromRoute})},onEditCompleted:function(t){this.isFinal?(this.$store.commit("application/setCurrentSourceSectionEditedTranslation",t),this.$router.replace({name:"sx-publisher"})):(this.$store.dispatch("application/applyEditedTranslationToSelectedSegment",{translation:t}),this.closeEditor())}}},ss={name:"SxContentComparatorView",components:{SxEditor:Object(g.a)(es,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-editor"},[t.originalContent?n("sx-editor-original-content",{attrs:{"original-content":t.originalContent}}):t._e(),t.editorReady?t._e():n("mw-spinner"),n("visual-editor",{attrs:{content:t.content,language:t.language},on:{ready:t.onEditorReady,close:t.closeEditor,"edit-completed":t.onEditCompleted}})],1)}),[],!1,null,null,null).exports},data:function(){return{fromRoute:""}},beforeRouteEnter:function(t,e,n){n((function(t){t.fromRoute=e.name}))},computed:{classes:function(t){return{fullscreen:t.$mwui.breakpoint.mdAndDown}}}},cs=(n("a50d"),Object(g.a)(ss,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-editor-view",class:t.classes},[n("sx-editor",{attrs:{"from-route":t.fromRoute}})],1)}),[],!1,null,null,null)).exports,hs={name:"SxPublisherHeader",components:{MwCol:o.e,MwButton:o.b,MwRow:o.o},data:function(){return{mwIconClose:Vt.j,mwIconCheck:Vt.i}},methods:{onClose:function(){this.$router.push({name:"sx-sentence-selector"})}}},ws=(n("1c5b"),Object(g.a)(hs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-row",{staticClass:"ma-0 sx-publisher__header"},[n("mw-col",{attrs:{shrink:""}},[n("mw-button",{attrs:{icon:t.mwIconClose,type:"icon",outlined:!1},on:{click:t.onClose}})],1),n("mw-col",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-header-title",arg:"cx-sx-publisher-header-title"}],staticClass:"ma-0",attrs:{grow:"",tag:"h5"}}),n("mw-col",{attrs:{shrink:""}},[n("mw-button",{attrs:{progressive:"",type:"button",icon:t.mwIconCheck},on:{click:function(e){return t.$emit("publish-translation")}}})],1)],1)}),[],!1,null,null,null)).exports,Cs={name:"SxPublisherAnimationDialog",components:{MwDialog:o.f,MwRow:o.o,MwCol:o.e},props:{active:{type:Boolean,required:!0},status:{type:String,required:!0,validator:function(t){return["pending","success","failure"].includes(t)}}},data:function(t){return{animations:{pending:{svg:"publishing-launching.svg",title:t.$i18n("cx-sx-publisher-launching-animation-title"),clarification:t.$i18n("cx-sx-publisher-launching-animation-clarification")},success:{svg:"publishing-success.svg",title:t.$i18n("cx-sx-publisher-success-animation-title"),clarification:t.$i18n("cx-sx-publisher-success-animation-clarification")},failure:{svg:"publishing-failure.svg",title:t.$i18n("cx-sx-publisher-failure-animation-title"),clarification:t.$i18n("cx-sx-publisher-failure-animation-clarification")}}}},computed:{animationSvg:function(t){return n("4b31")("./".concat(t.animations[t.status].svg))},animationTitle:function(t){return t.animations[t.status].title},animationClarification:function(t){return t.animations[t.status].clarification}}},_s=(n("9866"),Object(g.a)(Cs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.active?n("mw-dialog",{staticClass:"sx-publisher__publish-animation",attrs:{"overlay-opacity":.85,header:!1}},[n("mw-row",{staticClass:"ma-4"},[n("mw-col",[n("div",{staticClass:"sx-publisher__publish-animation-icon mb-4",domProps:{innerHTML:t._s(t.animationSvg)}}),n("h2",{domProps:{textContent:t._s(t.animationTitle)}}),n("p",{staticClass:"ma-0",domProps:{textContent:t._s(t.animationClarification)}})])],1)],1):t._e()}),[],!1,null,null,null)).exports,Os={name:"SxPublishOptionSelector",components:{MwButton:o.b,MwRadioGroup:o.n,MwRadio:o.m,MwDivider:o.g,MwDialog:o.f},props:{active:{type:Boolean,required:!0}},data:function(){return{mwIconArrowPrevious:Vt.e}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({selectedOption:function(t){return t.application.publishTarget}})),{},{publishOptions:function(t){return[{label:t.$i18n("cx-sx-publisher-new-section-option-label"),details:t.$i18n("cx-sx-publisher-new-section-option-details"),value:"NEW_SECTION"},{label:t.$i18n("cx-sx-publisher-sandbox-option-label"),details:t.$i18n("cx-sx-publisher-sandbox-option-details"),value:"SANDBOX_SECTION"}]},overlayColor:function(t){return t.$mwui.colors.base10}}),methods:{optionMarginBottom:function(t){return t===this.publishOptions.length-1?"mb-1":"mb-4"},onPublishOptionsClose:function(){this.$emit("update:active",!1)},updateOption:function(t){this.$store.commit("application/setPublishTarget",t),this.onPublishOptionsClose()}}},As=(n("250e"),Object(g.a)(Os,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-dialog",{staticClass:"sx-publisher__publish-options",attrs:{value:t.active,title:"Publish options","overlay-opacity":.7,"overlay-color":t.overlayColor},on:{input:function(e){return t.$emit("update:active",e)},close:t.onPublishOptionsClose},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"mw-ui-dialog__header"},[n("div",{staticClass:"row ma-0 pa-4"},[n("div",{staticClass:"col shrink justify-center"},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:t.mwIconArrowPrevious},on:{click:t.onPublishOptionsClose}})],1),n("div",{staticClass:"col grow items-center mw-ui-dialog__header-title justify-start ps-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-preview-options-title",arg:"cx-sx-publisher-preview-options-title"}],staticClass:"mb-0"})])]),n("mw-divider")],1)]},proxy:!0}])},[n("div",{staticClass:"pa-4"},[n("mw-radio-group",{attrs:{value:t.selectedOption,name:"publish-options"},on:{input:t.updateOption}},[t._l(t.publishOptions,(function(e){return[n("mw-radio",{key:e.label+"-label",staticClass:"pa-0 my-1",attrs:{label:e.label,"input-value":e.value}}),n("p",{key:e.label+"-details",staticClass:"complementary ms-7 mt-0 mb-4",class:t.optionMarginBottom,domProps:{textContent:t._s(e.details)}})]}))],2)],1)])}),[],!1,null,null,null)).exports,Is={name:"SxPublisherReviewInfo",components:{MwMessage:o.k,MwIcon:o.i},props:{result:{type:T,required:!0}},data:function(){return{mwIconEye:Vt.p,mwIconAlert:Vt.b,mwIconBlock:Vt.g}},computed:{infoText:function(t){return t.result.isSuccessful?null:t.result.message},status:function(t){return t.result.isSuccessful?"default":"error"},reviewIcon:function(t){switch(t.status){case"default":return t.mwIconEye;case"warning":return t.mwIconAlert;case"error":return t.mwIconBlock}},reviewInfoClass:function(t){return"sx-publisher__review-info--".concat(t.messageType)},isMessageInline:function(t){return"default"===t.status},messageType:function(t){return t.isMessageInline?"notice":t.status}}},Ns={name:"SxPublisher",components:{SxPublisherReviewInfo:(n("92fe"),Object(g.a)(Is,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-message",{staticClass:"sx-publisher__review-info ma-0 pa-4",class:t.reviewInfoClass,attrs:{type:t.messageType,inline:t.isMessageInline}},[n("template",{slot:"icon"},[n("mw-icon",{staticClass:"col shrink mw-ui-message__icon pe-3 items-start",attrs:{icon:t.reviewIcon}})],1),n("div",{staticClass:"sx-publisher__review-info__content"},["default"===t.status?[n("p",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:cx-sx-publisher-review-info",arg:"cx-sx-publisher-review-info"}],staticClass:"complementary ma-0"})]:t._e(),"warning"===t.status?void 0:t._e(),"error"===t.status?[n("div",[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-review-info-error",arg:"cx-sx-publisher-review-info-error"}]}),n("p",{domProps:{textContent:t._s(t.infoText)}}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-review-info-learn-more",arg:"cx-sx-publisher-review-info-learn-more"}],staticClass:"sx-publisher__review-info__learn-more-anchor",attrs:{href:"#"}})])]:t._e()],2)],2)}),[],!1,null,null,null)).exports,SxPublishOptionSelector:As,SxPublisherAnimationDialog:_s,MwButton:o.b,SxPublisherHeader:ws,MwRow:o.o,MwCol:o.e},data:function(){return{mwIconSettings:Vt.A,mwIconEdit:Vt.l,isPublishDialogActive:!1,publishStatus:"pending",publishOptionsOn:!1,publishResult:new T}},computed:Object(s.a)(Object(s.a)({},Object(c.d)({suggestion:function(t){return t.application.currentSectionSuggestion},currentPageSection:function(t){return t.application.currentSourceSection},publishTarget:function(t){return t.application.publishTarget}})),{},{translatedTitle:function(t){var e;return null===(e=t.currentPageSection)||void 0===e?void 0:e.title},panelResult:function(t){return"NEW_SECTION"===t.publishTarget?t.$i18n("cx-sx-publisher-publish-panel-new-section-result"):t.$i18n("cx-sx-publisher-publish-panel-sandbox-section-result")}}),methods:{decodeHtml:function(t){var e=document.createElement("div");return e.innerHTML=t,e.innerText},configureTranslationOptions:function(){this.publishOptionsOn=!0},handlePublishResult:function(t){if(t.isSuccessful){var e=I(this.suggestion.targetTitle,this.publishTarget);this.$store.commit("application/setTranslationInProgress",!1),window.location.href=on("".concat(e),{"sx-published-section":this.decodeHtml(this.translatedTitle),"sx-source-page-title":this.decodeHtml(this.suggestion.sourceTitle),"sx-source-language":this.suggestion.sourceLanguage,"sx-target-language":this.suggestion.targetLanguage})}else this.publishResult=t},publishTranslation:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.publishStatus="pending",t.isPublishDialogActive=!0,e.next=4,t.$store.dispatch("translator/publishTranslation");case 4:n=e.sent,t.publishStatus=n.result,setTimeout((function(){t.isPublishDialogActive=!1,t.handlePublishResult(n)}),1e3);case 7:case"end":return e.stop()}}),e)})))()},editTranslation:function(){this.$router.push({name:"sx-editor",params:{content:this.currentPageSection.translationHtml,language:this.suggestion.targetLanguage,isFinalEdit:!0}})}}},Vs={name:"SxPublisherView",components:{SxPublisher:(n("d536"),Object(g.a)(Ns,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sx-publisher"},[n("sx-publisher-header",{on:{"publish-translation":t.publishTranslation}}),n("div",{staticClass:"sx-publisher__publish-panel pa-4"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-publish-panel-new-section-status",arg:"cx-sx-publisher-publish-panel-new-section-status"}],staticClass:"mb-2"}),n("h6",{staticClass:"mb-2",domProps:{innerHTML:t._s(t.panelResult)}}),n("mw-row",{staticClass:"ma-0",attrs:{justify:"end"}},[n("mw-col",{attrs:{shrink:""}},[n("mw-button",{staticClass:"pa-0 mx-1",attrs:{type:"icon",icon:t.mwIconSettings},on:{click:t.configureTranslationOptions}})],1)],1)],1),n("sx-publisher-review-info",{attrs:{result:t.publishResult}}),n("section",{staticClass:"sx-publisher__section-preview pa-5"},[n("mw-row",{staticClass:"pb-5 ma-0"},[n("mw-col",{staticClass:"sx-publisher__section-preview__title ma-0",attrs:{tag:"h2",grow:""},domProps:{innerHTML:t._s(t.translatedTitle)}}),n("mw-col",{attrs:{shrink:""}},[n("mw-button",{attrs:{icon:t.mwIconEdit,type:"icon"},on:{click:t.editTranslation}})],1)],1),n("div",{domProps:{innerHTML:t._s(t.currentPageSection.translationHtml)}})],1),n("sx-publish-option-selector",{attrs:{active:t.publishOptionsOn},on:{"update:active":function(e){t.publishOptionsOn=e}}}),n("sx-publisher-animation-dialog",{attrs:{active:t.isPublishDialogActive,status:t.publishStatus}})],1)}),[],!1,null,null,null)).exports},computed:{classes:function(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},Xs=(n("9d3c"),Object(g.a)(Vs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"sx-publisher-view",class:t.classes},[n("sx-publisher")],1)}),[],!1,null,null,null)).exports;i.a.use(Et.a);var qs=[{path:"",name:"dashboard",component:je,params:!0,meta:{workflowStep:0}},{path:"/sx",name:"sx-article-selector",component:hn,params:!0,meta:{workflowStep:1}},{path:"/sx/section-selector",name:"sx-section-selector",component:ri,params:!0,meta:{workflowStep:2}},{path:"/sx/content-comparator",name:"sx-content-comparator",component:ea,params:!0,meta:{workflowStep:3}},{path:"/sx/quick-tutorial",name:"sx-quick-tutorial",component:Vr,params:!0,meta:{workflowStep:3.5}},{path:"/sx/sentence-selector",name:"sx-sentence-selector",component:Ar,params:!0,meta:{workflowStep:4}},{path:"/sx/sx-editor",name:"sx-editor",component:cs,params:!0,meta:{workflowStep:4.5}},{path:"/sx/sx-publisher",name:"sx-publisher",component:Xs,params:!0,meta:{workflowStep:5}},{path:"*",name:"404",component:je,params:!0,meta:{workflowStep:0}}],Ys=new Et.a({mode:"hash",routes:qs});Ys.beforeEach((function(t,e,n){if(t.params.force)n();else{var i=e.meta.workflowStep,a=t.meta.workflowStep;if(isNaN(i)&&a>0)n({name:"dashboard"});else if(Math.ceil(a)-Math.floor(i)>1){var s=Math.ceil(a)-1;n({name:qs.find((function(t){return t.meta.workflowStep===s})).name})}else n()}}));var Ks=Ys,zs={currentSectionSuggestion:null,currentSourceSection:null,isSectionTitleSelectedForTranslation:!1,currentMTProvider:"",sourceLanguage:"en",targetLanguage:mw.config.get("wgSectionTranslationTargetLanguage")||"es",publishTarget:"NEW_SECTION",translationInProgress:!1,cxServerToken:null},Qs={namespaced:!0,state:zs,getters:{getCurrentPage:function(t,e,n,i){return i["mediawiki/getPage"](t.currentSectionSuggestion.sourceLanguage,t.currentSectionSuggestion.sourceTitle)},getCurrentSourceSectionTitle:function(t){var e;return(null===(e=t.currentSourceSection)||void 0===e?void 0:e.originalTitle)||""},getCurrentSourceSectionAnchor:function(t,e){return(e.getCurrentSourceSectionTitle||"").replace(/ /g,"_")},getCurrentSourceSectionSentences:function(t){var e;return(null===(e=t.currentSourceSection)||void 0===e?void 0:e.sentences)||[]},isCurrentSentenceLast:function(t,e){return e.getCurrentSelectedSentenceIndex===e.getCurrentSourceSectionSentences.length-1},isCurrentSentenceFirst:function(t,e){return 0===e.getCurrentSelectedSentenceIndex},isCurrentSourceSectionMissing:function(t,e){var n;return null===(n=t.currentSectionSuggestion)||void 0===n?void 0:n.missingSections.hasOwnProperty(e.getCurrentSourceSectionTitle)},isCurrentSourceSectionPresent:function(t,e){var n;return null===(n=t.currentSectionSuggestion)||void 0===n?void 0:n.presentSections.hasOwnProperty(e.getCurrentSourceSectionTitle)},getCurrentSelectedSentence:function(t,e){return e.getCurrentSourceSectionSentences.find((function(t){return t.selected}))},getCurrentSelectedSentenceIndex:function(t,e){return e.getCurrentSourceSectionSentences.findIndex((function(t){return t.selected}))},getCurrentProposedTitleTranslation:function(t){var e;return(null===(e=t.currentSourceSection)||void 0===e?void 0:e.proposedTitleTranslations[t.currentMTProvider])||""},getCurrentProposedSentenceTranslation:function(t,e){var n;return(null===(n=e.getCurrentSelectedSentence)||void 0===n?void 0:n.proposedTranslations[t.currentMTProvider])||""},getCurrentProposedTranslation:function(t,e){return t.isSectionTitleSelectedForTranslation?e.getCurrentProposedTitleTranslation:e.getCurrentProposedSentenceTranslation},getCurrentLanguageTitleGroup:function(t,e,n,i){return i["mediawiki/getLanguageTitleGroup"](t.currentSectionSuggestion.sourceLanguage,t.currentSectionSuggestion.sourceTitle)},isSelectedSegmentTranslated:function(t,e){var n;return t.isSectionTitleSelectedForTranslation?!!t.currentSourceSection.translatedTitle:!(null===(n=e.getCurrentSelectedSentence)||void 0===n||!n.isTranslated)},getCurrentPageSuggestions:function(t,e,n,i){return i["suggestions/getPageSuggestionsForPair"](t.sourceLanguage,t.targetLanguage)},getCurrentSectionSuggestions:function(t,e,n,i){return i["suggestions/getSectionSuggestionsForPair"](t.sourceLanguage,t.targetLanguage)},getCurrentPublishedTranslations:function(t,e,n,i){return i["translator/getPublishedTranslationsForLanguagePair"](t.sourceLanguage,t.targetLanguage)}},actions:{getCXServerToken:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){var n,i,a,r,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.dispatch,r=t.state,s=t.commit,r.cxServerToken){e.next=4;break}return e.next=4,kt.fetchCXServerToken().then((function(t){t.age<=30&&(t.age=3600);var e=Math.floor(Date.now()/1e3);t.refreshAt=e+t.age-30,s("setCXServerToken",t)}),(function(t){if("token-impossible"===t){var e=Math.floor(Date.now()/1e3);s("setCXServerToken",{jwt:"",refreshAt:e+36e3})}}));case 4:if(o=Math.floor(Date.now()/1e3),!((null===(n=r.cxServerToken)||void 0===n?void 0:n.refreshAt)<=o)){e.next=8;break}return s("setCXServerToken",null),e.abrupt("return",a("getCXServerToken"));case 8:return e.abrupt("return",null===(i=r.cxServerToken)||void 0===i?void 0:i.jwt);case 9:case"end":return e.stop()}}),e)})))()},initializeDashboardContext:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){var n,i,a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,i=t.state,n("mediawiki/fetchLanguages",{},{root:!0}),n("mediawiki/fetchSupportedLanguageCodes",{},{root:!0}),e.next=5,n("loadSectionSuggestionFromUrl");case 5:if(!(a=e.sent)){e.next=9;break}return n("startSectionTranslation",a),e.abrupt("return");case 9:return e.next=11,n("translator/fetchTranslations",{},{root:!0});case 11:r=i.sourceLanguage,s=i.targetLanguage,n("suggestions/fetchSuggestions",{sourceLanguage:r,targetLanguage:s},{root:!0});case 13:case"end":return e.stop()}}),e)})))()},startSectionTranslation:function(t,e){var n=t.commit;(0,t.dispatch)("getCXServerToken"),Ks.push({name:"sx-article-selector"}),n("setCurrentSectionSuggestion",e)},updateSourceLanguage:function(t,e){var n=t.commit,i=t.state,a=t.getters,r=t.dispatch;n("setSourceLanguage",e),e===i.targetLanguage&&n("setTargetLanguage",null);var s=a.getCurrentLanguageTitleGroup.getTitleForLanguage(e),o=new V({sourceLanguage:e,targetLanguage:i.targetLanguage,sourceTitle:s,missing:{}});a.getCurrentLanguageTitleGroup.hasLanguage(i.targetLanguage)?r("suggestions/loadSectionSuggestion",o,{root:!0}):n("setCurrentSectionSuggestion",o)},updateTargetLanguage:function(t,e){var n=t.commit,i=t.state,a=t.getters,r=t.dispatch;n("setTargetLanguage",e);var s=new V({sourceLanguage:i.sourceLanguage,targetLanguage:e,sourceTitle:i.currentSectionSuggestion.sourceTitle,missing:{}});a.getCurrentLanguageTitleGroup.hasLanguage(e)?r("suggestions/loadSectionSuggestion",s,{root:!0}):n("setCurrentSectionSuggestion",s)},loadSectionSuggestionFromUrl:function(t){var e=t.commit,n=t.rootGetters,i=t.state,a=t.dispatch,r=new URLSearchParams(location.search),s=r.get("sx"),o=r.get("page"),c=r.get("from"),l=r.get("to"),u=mw.config.get("wgSectionTranslationTargetLanguage");if(u||l&&e("setTargetLanguage",l),c!==u&&c&&e("setSourceLanguage",c),s&&o){var g=n["suggestions/getSectionSuggestionsForArticle"](i.sourceLanguage,i.targetLanguage,o);return g||a("suggestions/loadSectionSuggestion",g=new V({sourceLanguage:i.sourceLanguage,targetLanguage:i.targetLanguage,sourceTitle:o,missing:{}}),{root:!0}),g}},fetchCurrentSectionSuggestionLanguageTitles:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){var n,i,a,r,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,i=t.state,a=i.currentSectionSuggestion,r=a.sourceLanguage,s=a.sourceTitle,o={language:r,title:s},e.next=5,n("mediawiki/fetchLanguageTitles",o,{root:!0});case 5:case"end":return e.stop()}}),e)})))()},setTranslationURLParams:function(t){var e,n,i,a=t.state;if(history.pushState){var r=new URL(location.href),s=new URLSearchParams(location.search);s.set("page",null===(e=a.currentSectionSuggestion)||void 0===e?void 0:e.sourceTitle),s.set("from",null===(n=a.currentSectionSuggestion)||void 0===n?void 0:n.sourceLanguage),s.set("to",null===(i=a.currentSectionSuggestion)||void 0===i?void 0:i.targetLanguage),s.set("sx",!0),r.search=s,r=r.toString(),history.replaceState({url:r},null,r)}},setCurrentSectionSuggestion:function(t,e){(0,t.commit)("setCurrentSectionSuggestion",e)},selectPageSection:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,l,u,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.state,a=t.commit,r=t.dispatch,s=t.rootGetters,o=t.getters,c=e.sectionTitle,l=i.currentSectionSuggestion,u=o.getCurrentPage,g=s["mediawiki/getPageSection"](u,c)){n.next=9;break}return n.next=8,r("mediawiki/fetchPageSections",l,{root:!0});case 8:g=s["mediawiki/getPageSection"](u,c);case 9:a("setCurrentSourceSection",g);case 10:case"end":return n.stop()}}),n)})))()},selectSentenceForCurrentSection:function(t,e){var n=t.commit,i=t.dispatch,a=t.state,r=e.id;n("clearSentenceSelection"),n("setIsSectionTitleSelectedForTranslation",!1),r&&(n("selectSentence",r),i("translateSelectedSegment",{provider:a.currentMTProvider}))},applyTranslationToSelectedSegment:function(t,e){var n=t.state,i=t.commit,a=t.dispatch,r=e.translation;i("setTranslationInProgress",!0),i(n.isSectionTitleSelectedForTranslation?"setCurrentSourceSectionTitleTranslation":"setSelectedSentenceTranslation",r),a("selectNextSentence")},applyProposedTranslationToSelectedSegment:function(t){(0,t.dispatch)("applyTranslationToSelectedSegment",{translation:t.getters.getCurrentProposedTranslation})},applyEditedTranslationToSelectedSegment:function(t,e){t.state;var n=t.dispatch,i=e.translation,a=document.createElement("div");a.innerHTML=i,a.querySelectorAll(".sx-edit-dummy-node").forEach((function(t){return t.remove()})),n("applyTranslationToSelectedSegment",{translation:i=a.innerHTML})},selectNextSentence:function(t){var e=t.getters,n=t.dispatch;(0,t.commit)("setIsSectionTitleSelectedForTranslation",!1);var a=e.getCurrentSourceSectionSentences,r=e.getCurrentSelectedSentenceIndex+1;r>=a.length||n("selectSentenceForCurrentSection",a[r])},selectPreviousSegment:function(t){var e=t.getters,n=t.dispatch;if(e.isCurrentSentenceFirst)n("selectSectionTitleForTranslation");else{var i=e.getCurrentSourceSectionSentences,a=e.getCurrentSelectedSentenceIndex;n("selectSentenceForCurrentSection",i[a=(a+i.length-1)%i.length])}},initializeMTProviders:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){var n,i,a,r,s,o,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,i=t.dispatch,a=t.rootGetters,r=t.commit,s=n.currentSectionSuggestion,o=s.sourceLanguage,c=s.targetLanguage,e.next=4,i("mediawiki/fetchMTProviders",{sourceLanguage:o,targetLanguage:c},{root:!0});case 4:if(l=a["mediawiki/getSupportedMTProviders"](o,c),!(u=n.currentMTProvider)||!l.includes(u)){e.next=8;break}return e.abrupt("return");case 8:r("setCurrentMTProvider",l[0]);case 9:case"end":return e.stop()}}),e)})))()},updateMTProvider:function(t,e){var n=t.commit,i=t.dispatch,a=e.provider;n("setCurrentMTProvider",a),i("translateSelectedSegment",a)},selectInitialTranslationSegment:function(t){var e=t.getters,n=t.commit,i=t.state,a=t.dispatch;e.getCurrentSelectedSentence||(n("setIsSectionTitleSelectedForTranslation",!0),a("translateSelectedSegment",{provider:i.currentMTProvider}))},selectSectionTitleForTranslation:function(t){var e=t.commit;e("clearSentenceSelection"),e("setIsSectionTitleSelectedForTranslation",!0)},translateSelectedSegment:function(t,e){t.getters,t.commit;var n=t.state,i=t.dispatch,a=e.provider;i("translateFollowingSentence",{provider:a}),n.isSectionTitleSelectedForTranslation?i("translateSectionTitle",{provider:a}):i("translateSelectedSentence",{provider:a})},translateSectionTitle:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var a,r,s,o,c,l,u,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.state,t.getters,r=t.dispatch,s=e.provider,!a.currentSourceSection.translatedTitle){n.next=4;break}return n.abrupt("return");case 4:return o=a.currentSectionSuggestion,c=o.sourceLanguage,l=o.targetLanguage,u=a.currentSourceSection.originalTitle,n.next=8,r("mediawiki/translateSegment",{sourceLanguage:c,targetLanguage:l,provider:s,originalContent:u},{root:!0});case 8:g=n.sent,i.a.set(a.currentSourceSection.proposedTitleTranslations,s,g);case 10:case"end":return n.stop()}}),n)})))()},translateSelectedSentence:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var a,r,s,o,c,l,u,g,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.getters,r=t.dispatch,s=e.provider,(o=a.getCurrentSelectedSentence)&&!o.proposedTranslations[s]){n.next=5;break}return n.abrupt("return");case 5:return l=(c=zs.currentSectionSuggestion).sourceLanguage,u=c.targetLanguage,g=o.originalContent,n.next=9,r("mediawiki/translateSegment",{sourceLanguage:l,targetLanguage:u,provider:s,originalContent:g},{root:!0});case 9:d=n.sent,i.a.set(o.proposedTranslations,s,d);case 11:case"end":return n.stop()}}),n)})))()},translateFollowingSentence:function(t,e){return Object(m.a)(regeneratorRuntime.mark((function n(){var a,r,s,o,c,l,u,g,d,p,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.getters,r=t.dispatch,s=e.provider,o=a.getCurrentSelectedSentenceIndex+1,c=a.getCurrentSourceSectionSentences,!(o>=c.length)){n.next=6;break}return n.abrupt("return");case 6:return l=c[o],g=(u=zs.currentSectionSuggestion).sourceLanguage,d=u.targetLanguage,p=l.originalContent,n.next=11,r("mediawiki/translateSegment",{sourceLanguage:g,targetLanguage:d,provider:s,originalContent:p},{root:!0});case 11:m=n.sent,i.a.set(l.proposedTranslations,s,m);case 13:case"end":return n.stop()}}),n)})))()},translateSegmentForAllProviders:function(t){var e=t.rootGetters,n=t.dispatch,i=zs.currentSectionSuggestion,a=i.sourceLanguage,r=i.targetLanguage;e["mediawiki/getSupportedMTProviders"](a,r).forEach((function(t){return n("translateSelectedSegment",{provider:t})}))}},mutations:{setCurrentSectionSuggestion:function(t,e){t.currentSectionSuggestion=e},setCurrentSourceSection:function(t,e){t.currentSourceSection=e},setCurrentSourceSectionTitleTranslation:function(t,e){t.currentSourceSection.translatedTitle=e},setCurrentSourceSectionEditedTranslation:function(t,e){t.currentSourceSection.editedTranslation=e},clearSentenceSelection:function(t){var e=t.currentSourceSection.sentences.find((function(t){return t.selected}));e&&(e.selected=!1)},selectSentence:function(t,e){t.currentSourceSection.sentences.find((function(t){return t.id===e})).selected=!0},setSelectedSentenceTranslation:function(t,e){t.currentSourceSection.sentences.find((function(t){return t.selected})).translatedContent=e},setIsSectionTitleSelectedForTranslation:function(t,e){t.isSectionTitleSelectedForTranslation=e},setCurrentMTProvider:function(t,e){t.currentMTProvider=e},setSourceLanguage:function(t,e){t.sourceLanguage=e},setTargetLanguage:function(t,e){t.targetLanguage=e},setPublishTarget:function(t,e){if(!["NEW_SECTION","SANDBOX_SECTION"].includes(e))throw"Invalid publish target";t.publishTarget=e},setTranslationInProgress:function(t,e){t.translationInProgress=e},setCXServerToken:function(t,e){t.cxServerToken=e}}};i.a.use(c.a);var to=new c.a.Store({modules:{translator:D,suggestions:nt,mediawiki:Mt,application:Qs}}),eo=n("5093"),no=n.n(eo),io=n("3899");i.a.directive("i18n-html-safe",(function(t,e){var n;if(Array.isArray(e.value)){if(void 0===e.arg)throw new Error("v-i18n-html-safe used with parameter array but without message key");n=mw.message(e.arg).params(e.value)}else n=e.value instanceof mw.Message?e.value:mw.message(e.arg||e.value);t.innerHTML=n.parse()})),i.a.use(io.a),i.a.use(io.b);var ao=mw.config.get("wgUserLanguage"),so=mw.messages.values||{};i.a.prototype.$incompleteVersion=!0,i.a.use(no.a,{locale:ao,finalFallback:"en",messages:so,wikilinks:!0}),new i.a({store:to,router:Ks,el:"#contenttranslation",render:function(t){return t(p)}})},5827:function(t,e,n){},"58c6":function(t,e,n){"use strict";n("4c90")},"5aee":function(t,e,n){"use strict";n("f96a")},"5cce":function(t,e){t.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>publishing-success</title> <defs> <polygon id="path-1" points="29.5385666 61.8098361 10.7522184 42.6688525 4.4 49.1409836 29.5385666 74.8 83.6 19.7180328 77.2477816 13.2"></polygon> </defs> <g id="publishing-success" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group" fill="#D5FDF4"> <circle id="Oval" cx="68" cy="68" r="68"></circle> </g> <g id="ðŸ”£-Icon/Interactions/check" transform="translate(24.000000, 24.000000)"> <mask id="mask-2" fill="white"> <use xlink:href="#path-1"></use> </mask> <use id="Mask" fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use> <g id="ðŸŽ¨-Color/Green50-#00af89" mask="url(#mask-2)" fill="#00AF89" fill-rule="evenodd"> <rect id="Rectangle-1" x="0" y="0" width="88" height="88"></rect> </g> </g> </g> </svg>'},6208:function(t,e,n){},"63ac":function(t,e,n){"use strict";n("11f4")},"64ab":function(t,e,n){},"64fd":function(t,e,n){},"67bb":function(t,e,n){},"6c2a":function(t,e,n){"use strict";n("f4c0")},"74c7":function(t,e,n){},7989:function(t,e,n){},"79b2":function(t,e,n){},"7c55":function(t,e,n){"use strict";n("2395")},"7e70":function(t,e,n){},"7fc4":function(t,e,n){"use strict";n("f4af")},"804d":function(t,e,n){"use strict";n("ba1c")},8295:function(t,e,n){},"83a6":function(t,e,n){},"83f9":function(t,e,n){"use strict";n("8295")},"85be":function(t,e,n){n("99af"),SectionTranslationTarget=function t(e,n){this.overlay=e,this.$overlaySurface=e.querySelector(".surface"),(n=n||{}).toolbarConfig=$.extend({actions:!1},n.toolbarConfig),this.config=n,t.super.call(this,e,n),this.section=n.section,this.$element.addClass("sx-ve-translation-target")},OO.inheritClass(SectionTranslationTarget,ve.init.mw.MobileArticleTarget),SectionTranslationTarget.prototype.getContentApi=function(t,e){return this.config.siteMapper.getApi(this.config.language,e)},SectionTranslationTarget.prototype.loadFail=function(t,e){SectionTranslationTarget.super.prototype.loadFail.apply(this,arguments),window.history.back(),mw.notify(this.extractErrorMessages(e))},SectionTranslationTarget.prototype.back=function(){this.config.onBack()},SectionTranslationTarget.prototype.next=function(){this.config.onNext()},SectionTranslationTarget.prototype.setupToolbar=function(t){var e=this.toolbarGroups;this.toolbarGroups=[].concat([{name:"back",include:["back"]}],this.toolbarGroups,[{name:"next",type:"bar",include:["showMobileNext"]}]),ve.init.mw.MobileArticleTarget.super.prototype.setupToolbar.call(this,t),this.toolbarGroups=e,this.toolbar.$group.addClass("ve-init-mw-mobileArticleTarget-editTools"),this.toolbar.$element.addClass("ve-init-mw-mobileArticleTarget-toolbar")},SectionTranslationTarget.prototype.setupToolbarSaveButton=function(){},SectionTranslationTarget.prototype.updateToolbarSaveButtonState=function(){},SectionTranslationTarget.prototype.done=function(){this.getSurface().getModel().setNullSelection(),this.getSurface().getView().blur()},ve.init.mw.targetFactory.register(SectionTranslationTarget),t.exports=SectionTranslationTarget},"85d3":function(t,e,n){},8789:function(t,e,n){},"898f":function(t,e,n){},"92fe":function(t,e,n){"use strict";n("da03")},"94f9":function(t,e,n){},9866:function(t,e,n){"use strict";n("ce33")},"99a9":function(t,e,n){"use strict";n("02cc")},"9bc3":function(t,e,n){"use strict";n("64ab")},"9c2c":function(t,e,n){n("b0c0"),n("5377"),SXEditorNextTool=function t(){t.super.apply(this,arguments)},OO.inheritClass(SXEditorNextTool,ve.ui.Tool),SXEditorNextTool.static.name="showMobileNext",SXEditorNextTool.static.icon="next",SXEditorNextTool.static.flags=["primary","progressive"],SXEditorNextTool.static.group="navigation",SXEditorNextTool.static.displayBothIconAndLabel=!1,SXEditorNextTool.static.commandName="next",SXEditorNextTool.prototype.onUpdateState=function(){SXEditorNextTool.super.prototype.onUpdateState.apply(this,arguments),this.setActive(!0),this.setDisabled(!1)},ve.ui.toolFactory.register(SXEditorNextTool),t.exports=SXEditorNextTool},"9d3c":function(t,e,n){"use strict";n("a216")},a216:function(t,e,n){},a265:function(t,e,n){},a381:function(t,e,n){},a50d:function(t,e,n){"use strict";n("50f1")},a6e7:function(t,e,n){},a8dd:function(t,e,n){},b3ed:function(t,e){t.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>publishing-failure</title> <g id="publishing-failure" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group" fill="#FEE7E6"> <circle id="Oval" cx="68" cy="68" r="68"></circle> </g> <path d="M68,24 C43.6994698,24 24,43.6994844 24,68 C24,92.3005302 43.6994747,112 68,112 C92.3005156,112 112,92.3005302 112,68 C112,43.6994844 92.3005156,24 68,24 Z M92.4444444,72.8888889 L43.5555556,72.8888889 L43.5555556,63.1111111 L92.4444444,63.1111111 L92.4444444,72.8888889 Z" id="Mask" fill="#DD3333"></path> </g> </svg>'},b4c7:function(t,e,n){"use strict";n("6208")},b7c7:function(t,e,n){"use strict";n("79b2")},ba1c:function(t,e,n){},bc1b:function(t,e,n){"use strict";n("85d3")},bd9f:function(t,e,n){"use strict";n("a265")},c34a:function(t,e,n){"use strict";n("7989")},c3e3:function(t,e,n){"use strict";n("51f3")},c5a8:function(t,e,n){"use strict";n("64fd")},c69b:function(t,e){t.exports='<svg width="375px" height="200px" viewBox="0 0 375 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>illustration-sections</title> <defs> <rect id="path-1" x="0" y="0" width="137" height="174"></rect> <filter x="-3.6%" y="-2.3%" width="107.3%" height="105.7%" filterUnits="objectBoundingBox" id="filter-2"> <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-3" x="0.17674259" y="0.678736183" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-4"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-5" x="1.05473569" y="20.5842412" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-6"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-7" x="0.745148663" y="10.1485258" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-8"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-9" x="0.526966096" y="31.3803116" width="33" height="5"></rect> <filter x="-12.1%" y="-40.0%" width="124.2%" height="260.0%" filterUnits="objectBoundingBox" id="filter-10"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-11" x="0.17674259" y="0.678736183" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-12"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-13" x="1.05473569" y="20.5842412" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-14"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-15" x="0.745148663" y="10.1485258" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-16"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-17" x="0.526966096" y="31.3803116" width="33" height="5"></rect> <filter x="-12.1%" y="-40.0%" width="124.2%" height="260.0%" filterUnits="objectBoundingBox" id="filter-18"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <path d="M119.009619,18.1031535 C119.009619,17.0036819 119.909183,16.0733946 120.999588,16.0261337 L247.01965,10.5641077 C248.11868,10.516473 249.009619,11.3786871 249.009619,12.4772391 L249.009619,45.6663508 C249.009619,46.7705789 248.110054,47.6267431 247.01965,47.5794823 L120.999588,42.1174562 C119.900558,42.0698215 119.009619,41.1390215 119.009619,40.0404364 L119.009619,18.1031535 Z" id="path-19"></path> <pattern id="pattern-20" width="30" height="30" x="89.0096189" y="-19.4282032" patternUnits="userSpaceOnUse"> <use xlink:href="#image-21"></use> </pattern> <image id="image-21" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAP1JREFUSA3t1V0OgyAMAOC1Hmu7giHhXQ/n9mw0XmG7xm6izpphBAENk/IyXgxJ06/lT2ia5p1lWZnn+fPiGG3bXsdxvJ8ZBzGSHikSqMkU+AynwBeYG9dgTnwDc+FWmAN3wrFx7LruRohtCCFeAFD0fV+dHYcxkh4p8v9ynfoj8L3Z2qnmfLM1mE72F38Mw1BIKfd+lcFxaF4jukKEImJV17X3qv0St+lYFUIo4VPy0td5aJwTpgJCk6rize86H9LEDFBz6pQ63lv2kLgpp38vQ5IeaQbW7cfYS7V65nfe4xT4cri48QWmpeDENZgT38BcuBXmwJ1wbDzZy/UBR/bTV8buNroAAAAASUVORK5CYII="></image> <path d="M113.1747,17.4559811 C113.1747,16.3565095 114.074265,15.4262222 115.164669,15.3789613 L241.184731,9.91693528 C242.283761,9.86930059 243.1747,10.7315147 243.1747,11.8300667 L243.1747,45.0191784 C243.1747,46.1234065 242.275136,46.9795707 241.184731,46.9323099 L115.164669,41.4702838 C114.065639,41.4226491 113.1747,40.4918491 113.1747,39.393264 L113.1747,17.4559811 Z" id="path-22"></path> <pattern id="pattern-23" width="30" height="30" x="83.1747" y="-20.0753756" patternUnits="userSpaceOnUse"> <use xlink:href="#image-24"></use> </pattern> <image id="image-24" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAP1JREFUSA3t1V0OgyAMAOC1Hmu7giHhXQ/n9mw0XmG7xm6izpphBAENk/IyXgxJ06/lT2ia5p1lWZnn+fPiGG3bXsdxvJ8ZBzGSHikSqMkU+AynwBeYG9dgTnwDc+FWmAN3wrFx7LruRohtCCFeAFD0fV+dHYcxkh4p8v9ynfoj8L3Z2qnmfLM1mE72F38Mw1BIKfd+lcFxaF4jukKEImJV17X3qv0St+lYFUIo4VPy0td5aJwTpgJCk6rize86H9LEDFBz6pQ63lv2kLgpp38vQ5IeaQbW7cfYS7V65nfe4xT4cri48QWmpeDENZgT38BcuBXmwJ1wbDzZy/UBR/bTV8buNroAAAAASUVORK5CYII="></image> </defs> <g id="illustration-sections" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="paper-blank" transform="translate(119.000000, 13.000000)"> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use> <rect stroke="#CCCCCC" stroke-width="1" stroke-linejoin="square" fill="#FFFFFF" fill-rule="evenodd" x="0.5" y="0.5" width="136" height="173"></rect> </g> </g> <g id="paragraph" transform="translate(206.500000, 93.500000) rotate(-10.000000) translate(-206.500000, -93.500000) translate(168.000000, 75.000000)"> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-4)" xlink:href="#path-3"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-3"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-6)" xlink:href="#path-5"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-5"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-8)" xlink:href="#path-7"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-7"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-10)" xlink:href="#path-9"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-9"></use> </g> </g> <g id="paragraph" transform="translate(183.500000, 161.500000) rotate(10.000000) translate(-183.500000, -161.500000) translate(145.000000, 143.000000)"> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-12)" xlink:href="#path-11"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-11"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-14)" xlink:href="#path-13"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-13"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-16)" xlink:href="#path-15"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-15"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-18)" xlink:href="#path-17"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-17"></use> </g> </g> <polygon id="Rectangle-Copy" fill="#C8CCD1" points="131 43 244 43 244 48 131 48"></polygon> <polygon id="Rectangle-Copy-2" fill="#C8CCD1" points="131 53 193 53 193 58 131 58"></polygon> <g id="arm-copy-3" transform="translate(56.625927, 185.496072) scale(-1, 1) rotate(30.000000) translate(-56.625927, -185.496072) translate(-68.374073, 155.496072)"> <path d="M172,16.907537 L67.5255867,19.2577145 C67.5255867,19.2577145 41.6533364,5.01474437 39.3838532,4.75193521 C37.1143701,4.48912604 24.3528844,2.1824462 21.4239694,1.25709257 C18.4950543,0.331738948 15.513093,-1.46076951 15.6763016,2.23397625 C15.8395102,5.92872201 31.451814,11.8431771 31.451814,11.8431771 C31.451814,11.8431771 18.6374608,8.56771268 14.3798228,8.72006409 C10.1221849,8.87241551 3.15683142,10.5136571 3.15683142,10.5136571 C3.15683142,10.5136571 -1.68501113,12.8086486 0.624095573,15.5521407 C2.93320227,18.2956327 11.8935866,14.6092418 15.9476391,15.7256629 C20.0016915,16.8420839 24.6134118,18.0017432 24.6134118,18.0017432 C24.6134118,18.0017432 10.4209026,18.1597695 6.57049232,19.2372749 C2.72008204,20.3147804 0.884786525,23.0820714 2.61880922,25.1423062 C4.35283192,27.2025411 12.8816827,24.8622434 17.5059597,24.825123 C22.1302366,24.7880027 26.3140547,25.8973482 26.3140547,25.8973482 C26.3140547,25.8973482 19.3546483,26.1983657 14.7049518,30.0880272 C10.0552553,33.9776887 4.32619796,38.4159948 4.32619796,38.4159948 C4.32619796,38.4159948 2.43239277,41.7917011 5.35598778,43.4296316 C8.27958279,45.0675621 10.8781166,42.3389315 16.8697335,38.8363754 C22.8613504,35.3338192 25.589031,34.3693701 31.2960593,33.5457664 C37.0030875,32.7221628 42.6510908,35.9127352 42.6510908,35.9127352 C42.6510908,35.9127352 42.1989211,44.5285948 36.6894438,47.0954564 C31.1799665,49.6623179 27.3125288,51.2436598 27.3125288,51.2436598 C27.3125288,51.2436598 20.7211381,49.3172092 18.8777945,50.2909263 C17.0344509,51.2646434 17.5480459,53.5995834 18.8777943,56.07186 C20.2075426,58.5441366 25.9685773,60.2502333 29.8131232,59.9698817 C33.6576692,59.68953 51.3207932,56.4328775 60.5216871,48.735956 C69.7225811,41.0390344 72.893072,39.7769243 72.893072,39.7769243 L172,40.0117303" id="Path-11" fill="#BE6F41"></path> <g id="Rectangle-37"> <use fill="#3366CC" xlink:href="#path-19"></use> <use fill-opacity="0.5" fill="url(#pattern-20)" style="mix-blend-mode:multiply" xlink:href="#path-19"></use> </g> </g> <g id="arm-copy" transform="translate(321.614539, 14.504839) rotate(-29.000000) translate(-321.614539, -14.504839) translate(199.614539, -15.495161)"> <path d="M172,16.907537 L67.5255867,19.2577145 C67.5255867,19.2577145 41.6533364,5.01474437 39.3838532,4.75193521 C37.1143701,4.48912604 24.3528844,2.1824462 21.4239694,1.25709257 C18.4950543,0.331738948 15.513093,-1.46076951 15.6763016,2.23397625 C15.8395102,5.92872201 31.451814,11.8431771 31.451814,11.8431771 C31.451814,11.8431771 18.6374608,8.56771268 14.3798228,8.72006409 C10.1221849,8.87241551 3.15683142,10.5136571 3.15683142,10.5136571 C3.15683142,10.5136571 -1.68501113,12.8086486 0.624095573,15.5521407 C2.93320227,18.2956327 11.8935866,14.6092418 15.9476391,15.7256629 C20.0016915,16.8420839 24.6134118,18.0017432 24.6134118,18.0017432 C24.6134118,18.0017432 10.4209026,18.1597695 6.57049232,19.2372749 C2.72008204,20.3147804 0.884786525,23.0820714 2.61880922,25.1423062 C4.35283192,27.2025411 12.8816827,24.8622434 17.5059597,24.825123 C22.1302366,24.7880027 26.3140547,25.8973482 26.3140547,25.8973482 C26.3140547,25.8973482 19.3546483,26.1983657 14.7049518,30.0880272 C10.0552553,33.9776887 4.32619796,38.4159948 4.32619796,38.4159948 C4.32619796,38.4159948 2.43239277,41.7917011 5.35598778,43.4296316 C8.27958279,45.0675621 10.8781166,42.3389315 16.8697335,38.8363754 C22.8613504,35.3338192 25.589031,34.3693701 31.2960593,33.5457664 C37.0030875,32.7221628 42.6510908,35.9127352 42.6510908,35.9127352 C42.6510908,35.9127352 42.1989211,44.5285948 36.6894438,47.0954564 C31.1799665,49.6623179 27.3125288,51.2436598 27.3125288,51.2436598 C27.3125288,51.2436598 20.7211381,49.3172092 18.8777945,50.2909263 C17.0344509,51.2646434 17.5480459,53.5995834 18.8777943,56.07186 C20.2075426,58.5441366 25.9685773,60.2502333 29.8131232,59.9698817 C33.6576692,59.68953 51.3207932,56.4328775 60.5216871,48.735956 C69.7225811,41.0390344 72.893072,39.7769243 72.893072,39.7769243 L172,40.0117303" id="Path-11" fill="#D7A57A"></path> <g id="Rectangle-37"> <use fill="#FFB50D" xlink:href="#path-22"></use> <use fill-opacity="0.5" fill="url(#pattern-23)" style="mix-blend-mode:multiply" xlink:href="#path-22"></use> </g> </g> <rect id="Rectangle" fill="#C8CCD1" x="131" y="25" width="42" height="10"></rect> </g> </svg>'},c9fd:function(t,e,n){},cd7f:function(t,e,n){"use strict";n("0466")},ce33:function(t,e,n){},d536:function(t,e,n){"use strict";n("74c7")},d5b5:function(t,e,n){"use strict";n("8789")},da03:function(t,e,n){},da9e:function(t,e,n){},e1af:function(t,e,n){"use strict";n("a381")},e1b0:function(t,e){t.exports='<svg width="375px" height="200px" viewBox="0 0 375 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>illustration-mt</title> <defs> <path d="M105.208249,19.5680105 C105.208249,18.4685389 106.107813,17.5382516 107.198217,17.4909907 L233.21828,12.0289647 C234.31731,11.98133 235.208249,12.8435441 235.208249,13.9420961 L235.208249,47.1312078 C235.208249,48.2354359 234.308684,49.0916001 233.21828,49.0443393 L107.198217,43.5823132 C106.099188,43.5346786 105.208249,42.6038785 105.208249,41.5052935 L105.208249,19.5680105 Z" id="path-1"></path> <pattern id="pattern-2" width="30" height="30" x="75.2082489" y="-17.9633462" patternUnits="userSpaceOnUse"> <use xlink:href="#image-3"></use> </pattern> <image id="image-3" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAP1JREFUSA3t1V0OgyAMAOC1Hmu7giHhXQ/n9mw0XmG7xm6izpphBAENk/IyXgxJ06/lT2ia5p1lWZnn+fPiGG3bXsdxvJ8ZBzGSHikSqMkU+AynwBeYG9dgTnwDc+FWmAN3wrFx7LruRohtCCFeAFD0fV+dHYcxkh4p8v9ynfoj8L3Z2qnmfLM1mE72F38Mw1BIKfd+lcFxaF4jukKEImJV17X3qv0St+lYFUIo4VPy0td5aJwTpgJCk6rize86H9LEDFBz6pQ63lv2kLgpp38vQ5IeaQbW7cfYS7V65nfe4xT4cri48QWmpeDENZgT38BcuBXmwJ1wbDzZy/UBR/bTV8buNroAAAAASUVORK5CYII="></image> </defs> <g id="illustration-mt" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Oval-9-+-Path-79" transform="translate(97.500000, 27.500000) rotate(-50.000000) translate(-97.500000, -27.500000) translate(20.000000, -66.000000)" stroke="#72777D" stroke-width="20"> <path d="M154.758243,0.558837385 C154.758243,0.558837385 79.2075256,2.3963732 49.094702,27.6101739 C18.9818785,52.8239746 29.5592009,127.558837 29.5592009,127.558837" id="Path-79"></path> </g> <path d="M181.241058,153 L157,153 L188.486036,60 L218.513964,60 L250,153 L225.758942,153 L219.607545,133.473633 L187.392455,133.473633 L181.241058,153 Z M192.598076,116.303848 L213.598076,116.303848 L203.432471,83.3038476 L202.719095,83.3038476 L192.598076,116.303848 Z" id="A" fill="#3366CC" fill-rule="nonzero" transform="translate(203.500000, 106.500000) rotate(-330.000000) translate(-203.500000, -106.500000) "></path> <g id="arm-copy-4" transform="translate(314.833239, 182.732618) rotate(-329.000000) translate(-314.833239, -182.732618) translate(196.833239, 154.732618)"> <path d="M169,12.1867168 L64.5255867,14.5368942 C64.5255867,14.5368942 38.6533364,0.293924123 36.3838532,0.0311149624 C34.1143701,-0.231694198 20.2523322,1.25606343 18,1.27917976 C15.7476678,1.30229608 9,3.27917976 12,6.27917976 C15,9.27917976 28.451814,7.12235683 28.451814,7.12235683 C28.451814,7.12235683 22.2576379,8.12682834 18,8.27917976 C13.7423621,8.43153117 7,10.2791798 6,11.2791798 C5,12.2791798 2.6908933,14.5356877 5,17.2791798 C7.3091067,20.0226718 10.0523609,16.5535169 14,15.2791798 C17.9476391,14.0048426 21.6134118,13.280923 21.6134118,13.280923 C21.6134118,13.280923 7.85041029,19.2016743 4,20.2791798 C0.149589712,21.3566852 -1.63791203e-12,29.2791798 2,29.2791798 C4,29.2791798 9,25.2791798 13,23.2791798 C17,21.2791798 23.3140547,21.176528 23.3140547,21.176528 C23.3140547,21.176528 16.3546483,21.4775454 11.7049518,25.3672069 C7.05525531,29.2568684 1.32619796,33.6951745 1.32619796,33.6951745 C1.32619796,33.6951745 -0.567607229,37.0708809 2.35598778,38.7088114 C5.27958279,40.3467419 7.87811658,37.6181113 13.8697335,34.1155551 C19.8613504,30.612999 22.589031,29.6485498 28.2960593,28.8249462 C34.0030875,28.0013426 39.6510908,31.1919149 39.6510908,31.1919149 C39.6510908,31.1919149 39.1989211,39.8077746 33.6894438,42.3746361 C28.1799665,44.9414977 24.3125288,46.5228395 24.3125288,46.5228395 C24.3125288,46.5228395 17.7211381,44.596389 15.8777945,45.5701061 C14.0344509,46.5438231 14.5480459,48.8787631 15.8777943,51.3510398 C17.2075426,53.8233164 22.9685773,55.5294131 26.8131232,55.2490614 C30.6576692,54.9687098 48.3207932,51.7120573 57.5216871,44.0151357 C66.7225811,36.3182142 69.893072,35.056104 69.893072,35.056104 L169,35.2909101 L169,12.1867168 Z" id="Path-11" fill="#D7A57A" transform="translate(84.861497, 27.639590) scale(1, -1) translate(-84.861497, -27.639590) "></path> <g id="Rectangle-37"> <use fill="#FFB50D" xlink:href="#path-1"></use> <use fill-opacity="0.5" fill="url(#pattern-2)" style="mix-blend-mode:multiply" xlink:href="#path-1"></use> </g> </g> <polyline id="Path" stroke="#72777D" stroke-width="18" transform="translate(119.011851, 100.500000) rotate(-30.000000) translate(-119.011851, -100.500000) " points="119.011851 134 90 117.25 90 83.75 119.011851 67 148.023702 83.75 148.023702 117.25"></polyline> </g> </svg> '},f0b4:function(t,e,n){},f171:function(t,e,n){},f4af:function(t,e,n){},f4c0:function(t,e,n){},f767:function(t,e,n){"use strict";n("1594")},f944:function(t,e,n){},f96a:function(t,e,n){},fc87:function(t,e,n){},fe49:function(t,e,n){"use strict";n("f944")}});
//# sourceMappingURL=cx.js.map